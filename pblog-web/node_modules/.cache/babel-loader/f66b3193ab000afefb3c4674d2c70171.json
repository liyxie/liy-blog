{"remainingRequest":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-web\\node_modules\\.store\\babel-loader@8.3.0\\node_modules\\babel-loader\\lib\\index.js!E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-web\\node_modules\\.store\\cache-loader@4.1.0\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-web\\node_modules\\.store\\vue-loader@15.11.1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-web\\src\\components\\model\\SearchModel.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-web\\src\\components\\model\\SearchModel.vue","mtime":1721286706045},{"path":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-web\\babel.config.js","mtime":1721286706021},{"path":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-web\\node_modules\\.store\\cache-loader@4.1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-web\\node_modules\\.store\\babel-loader@8.3.0\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-web\\node_modules\\.store\\cache-loader@4.1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-web\\node_modules\\.store\\vue-loader@15.11.1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IHNlYXJjaEFydGljbGUsIHNlYXJjaFF1ZXN0aW9uIH0gZnJvbSAiLi4vLi4vYXBpIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlbGVjdDogMCwKICAgICAgLy/ngrnlh7vlkI7nmoTlgLzvvIzkuI7kuIvmoIflkIzmraXvvIzkuLow6KGo56S66buY6K6k56ys5LiA5Liq5oyJ6ZKu5LiOZGl25Li66YCJ5Lit54q25oCBCiAgICAgIGtleXdvcmRzOiAiIiwKICAgICAgYXJ0aWNsZUxpc3Q6IFtdLAogICAgICBxdWVzdGlvbkxpc3Q6IFtdLAogICAgICBmbGFnOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdvVG8oYXJ0aWNsZUlkKSB7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnNlYXJjaEZsYWcgPSBmYWxzZTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvYXJ0aWNsZXMvIiArIGFydGljbGVJZAogICAgICB9KTsKICAgIH0sCiAgICBnb1RvUXVlc3Rpb24oY2lkLCBxaWQpIHsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuc2VhcmNoRmxhZyA9IGZhbHNlOwogICAgICBpZiAoZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aCA+IDk1OSkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIHBhdGg6ICIvcXVlc3Rpb25zLyIgKyBjaWQgKyAiLyIgKyBxaWQKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBwYXRoOiAiL3F1ZXN0aW9ucy1hcHAvIiArIGNpZCArICIvIiArIHFpZAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLy/lrprkuYnliIfmjaLmlrnms5UKICAgIHRhYihpbmRleCkgewogICAgICB0aGlzLnNlbGVjdCA9IGluZGV4OwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHNlYXJjaEZsYWc6IHsKICAgICAgc2V0KHZhbHVlKSB7CiAgICAgICAgdGhpcy5rZXl3b3JkcyA9ICIiOwogICAgICAgIHRoaXMuYXJ0aWNsZUxpc3QgPSBbXTsKICAgICAgICB0aGlzLnF1ZXN0aW9uTGlzdCA9IFtdOwogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnNlYXJjaEZsYWcgPSB2YWx1ZTsKICAgICAgfSwKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5zZWFyY2hGbGFnOwogICAgICB9CiAgICB9LAogICAgaXNNb2JpbGUoKSB7CiAgICAgIGNvbnN0IGNsaWVudFdpZHRoID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoOwogICAgICByZXR1cm4gY2xpZW50V2lkdGggPD0gOTYwOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGtleXdvcmRzKHZhbHVlKSB7CiAgICAgIHRoaXMuZmxhZyA9IHZhbHVlLnRyaW0oKSAhPT0gIiI7CiAgICAgIGlmICh0aGlzLmZsYWcpIHsKICAgICAgICBpZiAodGhpcy5zZWxlY3QgPT09IDApIHsKICAgICAgICAgIHNlYXJjaEFydGljbGUodmFsdWUpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgdGhpcy5hcnRpY2xlTGlzdCA9IHJlcy5kYXRhOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNlYXJjaFF1ZXN0aW9uKHZhbHVlKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIHRoaXMucXVlc3Rpb25MaXN0ID0gcmVzLmRhdGE7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"names":["searchArticle","searchQuestion","data","select","keywords","articleList","questionList","flag","methods","goTo","articleId","$store","state","searchFlag","$router","push","path","goToQuestion","cid","qid","document","body","offsetWidth","tab","index","computed","set","value","get","isMobile","clientWidth","documentElement","watch","trim","then","res"],"sources":["src/components/model/SearchModel.vue"],"sourcesContent":["<template>\r\n  <!-- 搜索框 -->\r\n  <v-dialog v-model=\"searchFlag\" max-width=\"600\">\r\n    <v-card class=\"search-wrapper\" style=\"border-radius:8px\">\r\n      <div class=\"mb-3\">\r\n        <span :class=\"0 === select ? 'search-title-selected':'search-title'\" :key=\"0\" @click=\"tab(0)\">文章搜索</span>\r\n        <span :class=\"1 === select ? 'search-title-selected':'search-title'\" :key=\"1\" @click=\"tab(1)\">面试题搜索</span>\r\n        <!-- 关闭按钮 -->\r\n        <v-icon class=\"float-right\" @click=\"searchFlag = false\">\r\n          mdi-close\r\n        </v-icon>\r\n      </div>\r\n      <!--   文章搜索   -->\r\n      <div id=\"archive\" v-show=\"select === 0\">\r\n        <!-- 输入框 -->\r\n        <div class=\"search-input-wrapper\">\r\n          <v-icon>mdi-magnify</v-icon>\r\n          <input v-model=\"keywords\" placeholder=\"输入文章标题或内容...\" />\r\n        </div>\r\n\r\n        <!-- 搜索结果 -->\r\n        <div class=\"search-result-wrapper\">\r\n          <hr class=\"divider\" />\r\n          <ul>\r\n            <li class=\"search-reslut\" v-for=\"item of articleList\" :key=\"item.id\">\r\n              <!-- 文章标题 -->\r\n              <a @click=\"goTo(item.id)\" v-html=\"item.title\" />\r\n              <!-- 文章内容 -->\r\n              <p\r\n                class=\"search-reslut-content text-justify\"\r\n                v-html=\"item.content\"\r\n              />\r\n            </li>\r\n          </ul>\r\n          <!-- 搜索结果不存在提示 -->\r\n          <div\r\n            v-show=\"flag && articleList.length == 0\"\r\n            style=\"font-size:0.875rem\"\r\n          >\r\n            找不到您查询的内容：{{ keywords }}\r\n          </div>\r\n        </div>\r\n        <!--      <div style=\"margin-top: 10px\">\r\n              <span style=\"font-weight: bold\">每日热搜</span><br/>\r\n              <div style=\"display:inline-block;background-color: #b3b3b3;color: rgb(102,102,102);border-radius: 10px;margin-left: 10px;margin-top: 8px\">\r\n                <span style=\"padding: 15px\">博客112</span>\r\n              </div>\r\n            </div>-->\r\n      </div>\r\n\r\n      <!--   面试题搜索   -->\r\n      <div id=\"question\" v-show=\"select === 1\">\r\n        <!-- 输入框 -->\r\n        <div class=\"search-input-wrapper\">\r\n          <v-icon>mdi-magnify</v-icon>\r\n          <input v-model=\"keywords\" placeholder=\"输入问题...\" />\r\n        </div>\r\n\r\n        <!-- 搜索结果 -->\r\n        <div class=\"search-result-wrapper\">\r\n          <hr class=\"divider\" />\r\n          <ul>\r\n            <li class=\"search-reslut\" v-for=\"item of questionList\" :key=\"item.id\">\r\n              <!-- 问题 -->\r\n              <a @click=\"goToQuestion(item.qCategoryId, item.id)\" v-html=\"item.quContent\" />\r\n              <!-- 答案内容 -->\r\n              <p\r\n                class=\"search-reslut-content text-justify\"\r\n                v-html=\"item.analysis\"\r\n              />\r\n            </li>\r\n          </ul>\r\n          <!-- 搜索结果不存在提示 -->\r\n          <div\r\n            v-show=\"flag && questionList.length == 0\"\r\n            style=\"font-size:0.875rem\"\r\n          >\r\n            找不到您查询的内容：{{ keywords }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </v-card>\r\n  </v-dialog>\r\n</template>\r\n\r\n<script>\r\n  import { searchArticle, searchQuestion } from \"../../api\";\r\n\r\n  export default {\r\n    data: function() {\r\n      return {\r\n        select: 0, //点击后的值，与下标同步，为0表示默认第一个按钮与div为选中状态\r\n        keywords: \"\",\r\n        articleList: [],\r\n        questionList: [],\r\n        flag: false\r\n      };\r\n    },\r\n    methods: {\r\n      goTo(articleId) {\r\n        this.$store.state.searchFlag = false;\r\n        this.$router.push({ path: \"/articles/\" + articleId });\r\n      },\r\n      goToQuestion(cid, qid) {\r\n        this.$store.state.searchFlag = false;\r\n        if (document.body.offsetWidth > 959) {\r\n          this.$router.push({ path: \"/questions/\" + cid + \"/\" + qid });\r\n        } else {\r\n          this.$router.push({ path: \"/questions-app/\" + cid + \"/\" + qid });\r\n        }\r\n      },\r\n      //定义切换方法\r\n      tab(index) {\r\n        this.select = index;\r\n      }\r\n    },\r\n    computed: {\r\n      searchFlag: {\r\n        set(value) {\r\n          this.keywords = \"\";\r\n          this.articleList = [];\r\n          this.questionList = [];\r\n          this.$store.state.searchFlag = value;\r\n        },\r\n        get() {\r\n          return this.$store.state.searchFlag;\r\n        }\r\n      },\r\n      isMobile() {\r\n        const clientWidth = document.documentElement.clientWidth;\r\n        return clientWidth <= 960;\r\n      }\r\n    },\r\n    watch: {\r\n      keywords(value) {\r\n        this.flag = value.trim() !== \"\";\r\n        if (this.flag) {\r\n          if (this.select === 0) {\r\n            searchArticle(value).then(res => {\r\n              this.articleList = res.data;\r\n            });\r\n          } else {\r\n            searchQuestion(value).then(res => {\r\n              this.questionList = res.data;\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n    .search-wrapper {\r\n        padding: 1.25rem;\r\n        height: 100%;\r\n        background: #fff !important;\r\n    }\r\n\r\n    .search-title {\r\n        color: #49b1f5;\r\n        font-size: 1.25rem;\r\n        line-height: 1;\r\n        margin-right: 1rem;\r\n    }\r\n\r\n    .search-title-selected {\r\n        color: #49b1f5;\r\n        font-size: 1.25rem;\r\n        line-height: 1;\r\n        margin-right: 1rem;\r\n        border-bottom: 5px solid #db4c2b;\r\n    }\r\n\r\n    .search-input-wrapper {\r\n        display: flex;\r\n        padding: 5px;\r\n        margin-bottom: 3px;\r\n        height: 35px;\r\n        width: 100%;\r\n        border: 2px solid #8e8cd8;\r\n        border-radius: 2rem;\r\n    }\r\n\r\n    .search-input-wrapper input {\r\n        width: 100%;\r\n        margin-left: 5px;\r\n        outline: none;\r\n    }\r\n\r\n    @media (min-width: 960px) {\r\n        .search-result-wrapper {\r\n            padding-right: 5px;\r\n            height: 450px;\r\n            overflow: auto;\r\n        }\r\n    }\r\n\r\n    @media (max-width: 959px) {\r\n        .search-result-wrapper {\r\n            height: 40vh;\r\n            overflow: auto;\r\n        }\r\n    }\r\n\r\n    .search-reslut a {\r\n        color: rgba(0, 0, 0, 0.77) !important;\r\n        font-size: 20px;\r\n        font-weight: bold;\r\n        border-bottom: 1px solid #999;\r\n        text-decoration: none;\r\n    }\r\n\r\n    .search-reslut-content {\r\n        color: #555;\r\n        cursor: text;\r\n        border-bottom: 2px dashed #d2ebfd;\r\n        padding: 5px 0;\r\n        line-height: 2;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        display: -webkit-box;\r\n        -webkit-line-clamp: 3;\r\n        -webkit-box-orient: vertical;\r\n    }\r\n\r\n    .divider {\r\n        margin: 20px 0;\r\n        border: 2px dashed #d2ebfd;\r\n    }\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n  // 关键字颜色\r\n  .keyword {\r\n    color: red;\r\n  }\r\n\r\n  // 链接鼠标浮动颜色\r\n  .search-reslut a:hover {\r\n    color: #49b1f5 !important;\r\n    .keyword {\r\n      color: #49b1f5 !important;\r\n    }\r\n  }\r\n\r\n</style>\r\n"],"mappings":";AAuFA,SAAAA,aAAA,EAAAC,cAAA;AAEA;EACAC,IAAA,WAAAA,CAAA;IACA;MACAC,MAAA;MAAA;MACAC,QAAA;MACAC,WAAA;MACAC,YAAA;MACAC,IAAA;IACA;EACA;EACAC,OAAA;IACAC,KAAAC,SAAA;MACA,KAAAC,MAAA,CAAAC,KAAA,CAAAC,UAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QAAAC,IAAA,iBAAAN;MAAA;IACA;IACAO,aAAAC,GAAA,EAAAC,GAAA;MACA,KAAAR,MAAA,CAAAC,KAAA,CAAAC,UAAA;MACA,IAAAO,QAAA,CAAAC,IAAA,CAAAC,WAAA;QACA,KAAAR,OAAA,CAAAC,IAAA;UAAAC,IAAA,kBAAAE,GAAA,SAAAC;QAAA;MACA;QACA,KAAAL,OAAA,CAAAC,IAAA;UAAAC,IAAA,sBAAAE,GAAA,SAAAC;QAAA;MACA;IACA;IACA;IACAI,IAAAC,KAAA;MACA,KAAArB,MAAA,GAAAqB,KAAA;IACA;EACA;EACAC,QAAA;IACAZ,UAAA;MACAa,IAAAC,KAAA;QACA,KAAAvB,QAAA;QACA,KAAAC,WAAA;QACA,KAAAC,YAAA;QACA,KAAAK,MAAA,CAAAC,KAAA,CAAAC,UAAA,GAAAc,KAAA;MACA;MACAC,IAAA;QACA,YAAAjB,MAAA,CAAAC,KAAA,CAAAC,UAAA;MACA;IACA;IACAgB,SAAA;MACA,MAAAC,WAAA,GAAAV,QAAA,CAAAW,eAAA,CAAAD,WAAA;MACA,OAAAA,WAAA;IACA;EACA;EACAE,KAAA;IACA5B,SAAAuB,KAAA;MACA,KAAApB,IAAA,GAAAoB,KAAA,CAAAM,IAAA;MACA,SAAA1B,IAAA;QACA,SAAAJ,MAAA;UACAH,aAAA,CAAA2B,KAAA,EAAAO,IAAA,CAAAC,GAAA;YACA,KAAA9B,WAAA,GAAA8B,GAAA,CAAAjC,IAAA;UACA;QACA;UACAD,cAAA,CAAA0B,KAAA,EAAAO,IAAA,CAAAC,GAAA;YACA,KAAA7B,YAAA,GAAA6B,GAAA,CAAAjC,IAAA;UACA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]}]}