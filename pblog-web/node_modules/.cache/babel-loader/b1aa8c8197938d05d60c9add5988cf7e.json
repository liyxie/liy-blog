{"remainingRequest":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-web\\node_modules\\.store\\babel-loader@8.3.0\\node_modules\\babel-loader\\lib\\index.js!E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-web\\src\\utils\\request.js","dependencies":[{"path":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-web\\src\\utils\\request.js","mtime":1721286706050},{"path":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-web\\babel.config.js","mtime":1721286706021},{"path":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-web\\node_modules\\.store\\cache-loader@4.1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-web\\node_modules\\.store\\babel-loader@8.3.0\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CgovLyBjcmVhdGUgYW4gYXhpb3MgaW5zdGFuY2UKY29uc3Qgc2VydmljZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX0FQSSwKICB0aW1lb3V0OiAzNjAwMCAvLyByZXF1ZXN0IHRpbWVvdXQKfSk7CgovLyByZXF1ZXN0IGludGVyY2VwdG9yCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGNvbmZpZyA9PiB7CiAgd2luZG93LnZtLiRidXMuJGVtaXQoJ3Nob3dMb2FkaW5nJyk7CiAgLy8gZG8gc29tZXRoaW5nIGJlZm9yZSByZXF1ZXN0IGlzIHNlbnQKICBsZXQgdG9rZW4gPSBzdG9yZS5zdGF0ZS50b2tlbjsKICBpZiAodG9rZW4pIHsKICAgIC8vIGxldCBlYWNoIHJlcXVlc3QgY2FycnkgdG9rZW4KICAgIC8vIFsnWC1Ub2tlbiddIGlzIGEgY3VzdG9tIGhlYWRlcnMga2V5CiAgICAvLyBwbGVhc2UgbW9kaWZ5IGl0IGFjY29yZGluZyB0byB0aGUgYWN0dWFsIHNpdHVhdGlvbgogICAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IHRva2VuOwogIH0KICByZXR1cm4gY29uZmlnOwp9LCBlcnJvciA9PiB7CiAgLy8gZG8gc29tZXRoaW5nIHdpdGggcmVxdWVzdCBlcnJvcgogIGNvbnNvbGUubG9nKGVycm9yKTsgLy8gZm9yIGRlYnVnCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CgovLyByZXNwb25zZSBpbnRlcmNlcHRvcgpzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoCi8qKg0KICogSWYgeW91IHdhbnQgdG8gZ2V0IGh0dHAgaW5mb3JtYXRpb24gc3VjaCBhcyBoZWFkZXJzIG9yIHN0YXR1cw0KICogUGxlYXNlIHJldHVybiAgcmVzcG9uc2UgPT4gcmVzcG9uc2UNCiAqLwoKLyoqDQogKiBEZXRlcm1pbmUgdGhlIHJlcXVlc3Qgc3RhdHVzIGJ5IGN1c3RvbSBjb2RlDQogKiBIZXJlIGlzIGp1c3QgYW4gZXhhbXBsZQ0KICogWW91IGNhbiBhbHNvIGp1ZGdlIHRoZSBzdGF0dXMgYnkgSFRUUCBTdGF0dXMgQ29kZQ0KICovCnJlc3BvbnNlID0+IHsKICB3aW5kb3cudm0uJGJ1cy4kZW1pdCgnaGlkZUxvYWRpbmcnKTsKICBjb25zdCByZXMgPSByZXNwb25zZS5kYXRhOwogIC8vIHN0b3JlLmNvbW1pdCgnU0VUX0xPQURJTkcnLGZhbHNlKTsKICAvLyBpZiB0aGUgY3VzdG9tIGNvZGUgaXMgbm90IDIwMDAwLCBpdCBpcyBqdWRnZWQgYXMgYW4gZXJyb3IuCiAgaWYgKHJlcy5jb2RlICE9PSAyMDApIHsKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IocmVzLm1lc3NhZ2UgfHwgJ0Vycm9yJykpOwogIH0gZWxzZSB7CiAgICByZXR1cm4gcmVzOwogIH0KfSwgZXJyb3IgPT4gewogIGNvbnNvbGUubG9nKCdlcnInICsgZXJyb3IpOyAvLyBmb3IgZGVidWcKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKZXhwb3J0IGRlZmF1bHQgc2VydmljZTs="},{"version":3,"names":["axios","store","service","create","baseURL","process","env","VUE_APP_BASE_API","timeout","interceptors","request","use","config","window","vm","$bus","$emit","token","state","headers","Authorization","error","console","log","Promise","reject","response","res","data","code","Error","message"],"sources":["E:/MyWenJian/Blogs/rulin-blog/pblog-web/src/utils/request.js"],"sourcesContent":["import axios from 'axios'\r\nimport store from '@/store'\r\n\r\n// create an axios instance\r\nconst service = axios.create({\r\n    baseURL: process.env.VUE_APP_BASE_API,\r\n    timeout: 36000 // request timeout\r\n})\r\n\r\n// request interceptor\r\nservice.interceptors.request.use(\r\n    config => {\r\n      window.vm.$bus.$emit('showLoading');\r\n        // do something before request is sent\r\n        let token = store.state.token\r\n        if (token) {\r\n            // let each request carry token\r\n            // ['X-Token'] is a custom headers key\r\n            // please modify it according to the actual situation\r\n          config.headers.Authorization = token\r\n        }\r\n        return config\r\n    },\r\n    error => {\r\n        // do something with request error\r\n        console.log(error) // for debug\r\n        return Promise.reject(error)\r\n    }\r\n)\r\n\r\n// response interceptor\r\nservice.interceptors.response.use(\r\n    /**\r\n     * If you want to get http information such as headers or status\r\n     * Please return  response => response\r\n     */\r\n\r\n    /**\r\n     * Determine the request status by custom code\r\n     * Here is just an example\r\n     * You can also judge the status by HTTP Status Code\r\n     */\r\n    response => {\r\n      window.vm.$bus.$emit('hideLoading');\r\n        const res = response.data\r\n        // store.commit('SET_LOADING',false);\r\n        // if the custom code is not 20000, it is judged as an error.\r\n        if (res.code !== 200) {\r\n            return Promise.reject(new Error(res.message || 'Error'))\r\n        } else {\r\n            return res\r\n        }\r\n    },\r\n    error => {\r\n        console.log('err' + error) // for debug\r\n        return Promise.reject(error)\r\n    }\r\n)\r\n\r\nexport default service\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,SAAS;;AAE3B;AACA,MAAMC,OAAO,GAAGF,KAAK,CAACG,MAAM,CAAC;EACzBC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,gBAAgB;EACrCC,OAAO,EAAE,KAAK,CAAC;AACnB,CAAC,CAAC;;AAEF;AACAN,OAAO,CAACO,YAAY,CAACC,OAAO,CAACC,GAAG,CAC5BC,MAAM,IAAI;EACRC,MAAM,CAACC,EAAE,CAACC,IAAI,CAACC,KAAK,CAAC,aAAa,CAAC;EACjC;EACA,IAAIC,KAAK,GAAGhB,KAAK,CAACiB,KAAK,CAACD,KAAK;EAC7B,IAAIA,KAAK,EAAE;IACP;IACA;IACA;IACFL,MAAM,CAACO,OAAO,CAACC,aAAa,GAAGH,KAAK;EACtC;EACA,OAAOL,MAAM;AACjB,CAAC,EACDS,KAAK,IAAI;EACL;EACAC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,EAAC;EACnB,OAAOG,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AAChC,CACJ,CAAC;;AAED;AACAnB,OAAO,CAACO,YAAY,CAACiB,QAAQ,CAACf,GAAG;AAC7B;AACJ;AACA;AACA;;AAEI;AACJ;AACA;AACA;AACA;AACIe,QAAQ,IAAI;EACVb,MAAM,CAACC,EAAE,CAACC,IAAI,CAACC,KAAK,CAAC,aAAa,CAAC;EACjC,MAAMW,GAAG,GAAGD,QAAQ,CAACE,IAAI;EACzB;EACA;EACA,IAAID,GAAG,CAACE,IAAI,KAAK,GAAG,EAAE;IAClB,OAAOL,OAAO,CAACC,MAAM,CAAC,IAAIK,KAAK,CAACH,GAAG,CAACI,OAAO,IAAI,OAAO,CAAC,CAAC;EAC5D,CAAC,MAAM;IACH,OAAOJ,GAAG;EACd;AACJ,CAAC,EACDN,KAAK,IAAI;EACLC,OAAO,CAACC,GAAG,CAAC,KAAK,GAAGF,KAAK,CAAC,EAAC;EAC3B,OAAOG,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AAChC,CACJ,CAAC;AAED,eAAenB,OAAO","ignoreList":[]}]}