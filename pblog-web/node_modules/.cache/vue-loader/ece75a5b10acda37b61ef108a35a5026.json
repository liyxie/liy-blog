{"remainingRequest":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-web\\node_modules\\.store\\vue-loader@15.11.1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-web\\src\\components\\model\\SearchModel.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-web\\src\\components\\model\\SearchModel.vue","mtime":1721286706045},{"path":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-web\\node_modules\\.store\\cache-loader@4.1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-web\\node_modules\\.store\\babel-loader@8.3.0\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-web\\node_modules\\.store\\cache-loader@4.1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-web\\node_modules\\.store\\vue-loader@15.11.1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIGltcG9ydCB7IHNlYXJjaEFydGljbGUsIHNlYXJjaFF1ZXN0aW9uIH0gZnJvbSAiLi4vLi4vYXBpIjsNCg0KICBleHBvcnQgZGVmYXVsdCB7DQogICAgZGF0YTogZnVuY3Rpb24oKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICBzZWxlY3Q6IDAsIC8v54K55Ye75ZCO55qE5YC877yM5LiO5LiL5qCH5ZCM5q2l77yM5Li6MOihqOekuum7mOiupOesrOS4gOS4quaMiemSruS4jmRpduS4uumAieS4reeKtuaAgQ0KICAgICAgICBrZXl3b3JkczogIiIsDQogICAgICAgIGFydGljbGVMaXN0OiBbXSwNCiAgICAgICAgcXVlc3Rpb25MaXN0OiBbXSwNCiAgICAgICAgZmxhZzogZmFsc2UNCiAgICAgIH07DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICBnb1RvKGFydGljbGVJZCkgew0KICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5zZWFyY2hGbGFnID0gZmFsc2U7DQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogIi9hcnRpY2xlcy8iICsgYXJ0aWNsZUlkIH0pOw0KICAgICAgfSwNCiAgICAgIGdvVG9RdWVzdGlvbihjaWQsIHFpZCkgew0KICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5zZWFyY2hGbGFnID0gZmFsc2U7DQogICAgICAgIGlmIChkb2N1bWVudC5ib2R5Lm9mZnNldFdpZHRoID4gOTU5KSB7DQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAiL3F1ZXN0aW9ucy8iICsgY2lkICsgIi8iICsgcWlkIH0pOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogIi9xdWVzdGlvbnMtYXBwLyIgKyBjaWQgKyAiLyIgKyBxaWQgfSk7DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICAvL+WumuS5ieWIh+aNouaWueazlQ0KICAgICAgdGFiKGluZGV4KSB7DQogICAgICAgIHRoaXMuc2VsZWN0ID0gaW5kZXg7DQogICAgICB9DQogICAgfSwNCiAgICBjb21wdXRlZDogew0KICAgICAgc2VhcmNoRmxhZzogew0KICAgICAgICBzZXQodmFsdWUpIHsNCiAgICAgICAgICB0aGlzLmtleXdvcmRzID0gIiI7DQogICAgICAgICAgdGhpcy5hcnRpY2xlTGlzdCA9IFtdOw0KICAgICAgICAgIHRoaXMucXVlc3Rpb25MaXN0ID0gW107DQogICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuc2VhcmNoRmxhZyA9IHZhbHVlOw0KICAgICAgICB9LA0KICAgICAgICBnZXQoKSB7DQogICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnNlYXJjaEZsYWc7DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICBpc01vYmlsZSgpIHsNCiAgICAgICAgY29uc3QgY2xpZW50V2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7DQogICAgICAgIHJldHVybiBjbGllbnRXaWR0aCA8PSA5NjA7DQogICAgICB9DQogICAgfSwNCiAgICB3YXRjaDogew0KICAgICAga2V5d29yZHModmFsdWUpIHsNCiAgICAgICAgdGhpcy5mbGFnID0gdmFsdWUudHJpbSgpICE9PSAiIjsNCiAgICAgICAgaWYgKHRoaXMuZmxhZykgew0KICAgICAgICAgIGlmICh0aGlzLnNlbGVjdCA9PT0gMCkgew0KICAgICAgICAgICAgc2VhcmNoQXJ0aWNsZSh2YWx1ZSkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICB0aGlzLmFydGljbGVMaXN0ID0gcmVzLmRhdGE7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgc2VhcmNoUXVlc3Rpb24odmFsdWUpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgdGhpcy5xdWVzdGlvbkxpc3QgPSByZXMuZGF0YTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgfTsNCg=="},{"version":3,"sources":["SearchModel.vue"],"names":[],"mappings":";AAuFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SearchModel.vue","sourceRoot":"src/components/model","sourcesContent":["<template>\r\n  <!-- 搜索框 -->\r\n  <v-dialog v-model=\"searchFlag\" max-width=\"600\">\r\n    <v-card class=\"search-wrapper\" style=\"border-radius:8px\">\r\n      <div class=\"mb-3\">\r\n        <span :class=\"0 === select ? 'search-title-selected':'search-title'\" :key=\"0\" @click=\"tab(0)\">文章搜索</span>\r\n        <span :class=\"1 === select ? 'search-title-selected':'search-title'\" :key=\"1\" @click=\"tab(1)\">面试题搜索</span>\r\n        <!-- 关闭按钮 -->\r\n        <v-icon class=\"float-right\" @click=\"searchFlag = false\">\r\n          mdi-close\r\n        </v-icon>\r\n      </div>\r\n      <!--   文章搜索   -->\r\n      <div id=\"archive\" v-show=\"select === 0\">\r\n        <!-- 输入框 -->\r\n        <div class=\"search-input-wrapper\">\r\n          <v-icon>mdi-magnify</v-icon>\r\n          <input v-model=\"keywords\" placeholder=\"输入文章标题或内容...\" />\r\n        </div>\r\n\r\n        <!-- 搜索结果 -->\r\n        <div class=\"search-result-wrapper\">\r\n          <hr class=\"divider\" />\r\n          <ul>\r\n            <li class=\"search-reslut\" v-for=\"item of articleList\" :key=\"item.id\">\r\n              <!-- 文章标题 -->\r\n              <a @click=\"goTo(item.id)\" v-html=\"item.title\" />\r\n              <!-- 文章内容 -->\r\n              <p\r\n                class=\"search-reslut-content text-justify\"\r\n                v-html=\"item.content\"\r\n              />\r\n            </li>\r\n          </ul>\r\n          <!-- 搜索结果不存在提示 -->\r\n          <div\r\n            v-show=\"flag && articleList.length == 0\"\r\n            style=\"font-size:0.875rem\"\r\n          >\r\n            找不到您查询的内容：{{ keywords }}\r\n          </div>\r\n        </div>\r\n        <!--      <div style=\"margin-top: 10px\">\r\n              <span style=\"font-weight: bold\">每日热搜</span><br/>\r\n              <div style=\"display:inline-block;background-color: #b3b3b3;color: rgb(102,102,102);border-radius: 10px;margin-left: 10px;margin-top: 8px\">\r\n                <span style=\"padding: 15px\">博客112</span>\r\n              </div>\r\n            </div>-->\r\n      </div>\r\n\r\n      <!--   面试题搜索   -->\r\n      <div id=\"question\" v-show=\"select === 1\">\r\n        <!-- 输入框 -->\r\n        <div class=\"search-input-wrapper\">\r\n          <v-icon>mdi-magnify</v-icon>\r\n          <input v-model=\"keywords\" placeholder=\"输入问题...\" />\r\n        </div>\r\n\r\n        <!-- 搜索结果 -->\r\n        <div class=\"search-result-wrapper\">\r\n          <hr class=\"divider\" />\r\n          <ul>\r\n            <li class=\"search-reslut\" v-for=\"item of questionList\" :key=\"item.id\">\r\n              <!-- 问题 -->\r\n              <a @click=\"goToQuestion(item.qCategoryId, item.id)\" v-html=\"item.quContent\" />\r\n              <!-- 答案内容 -->\r\n              <p\r\n                class=\"search-reslut-content text-justify\"\r\n                v-html=\"item.analysis\"\r\n              />\r\n            </li>\r\n          </ul>\r\n          <!-- 搜索结果不存在提示 -->\r\n          <div\r\n            v-show=\"flag && questionList.length == 0\"\r\n            style=\"font-size:0.875rem\"\r\n          >\r\n            找不到您查询的内容：{{ keywords }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </v-card>\r\n  </v-dialog>\r\n</template>\r\n\r\n<script>\r\n  import { searchArticle, searchQuestion } from \"../../api\";\r\n\r\n  export default {\r\n    data: function() {\r\n      return {\r\n        select: 0, //点击后的值，与下标同步，为0表示默认第一个按钮与div为选中状态\r\n        keywords: \"\",\r\n        articleList: [],\r\n        questionList: [],\r\n        flag: false\r\n      };\r\n    },\r\n    methods: {\r\n      goTo(articleId) {\r\n        this.$store.state.searchFlag = false;\r\n        this.$router.push({ path: \"/articles/\" + articleId });\r\n      },\r\n      goToQuestion(cid, qid) {\r\n        this.$store.state.searchFlag = false;\r\n        if (document.body.offsetWidth > 959) {\r\n          this.$router.push({ path: \"/questions/\" + cid + \"/\" + qid });\r\n        } else {\r\n          this.$router.push({ path: \"/questions-app/\" + cid + \"/\" + qid });\r\n        }\r\n      },\r\n      //定义切换方法\r\n      tab(index) {\r\n        this.select = index;\r\n      }\r\n    },\r\n    computed: {\r\n      searchFlag: {\r\n        set(value) {\r\n          this.keywords = \"\";\r\n          this.articleList = [];\r\n          this.questionList = [];\r\n          this.$store.state.searchFlag = value;\r\n        },\r\n        get() {\r\n          return this.$store.state.searchFlag;\r\n        }\r\n      },\r\n      isMobile() {\r\n        const clientWidth = document.documentElement.clientWidth;\r\n        return clientWidth <= 960;\r\n      }\r\n    },\r\n    watch: {\r\n      keywords(value) {\r\n        this.flag = value.trim() !== \"\";\r\n        if (this.flag) {\r\n          if (this.select === 0) {\r\n            searchArticle(value).then(res => {\r\n              this.articleList = res.data;\r\n            });\r\n          } else {\r\n            searchQuestion(value).then(res => {\r\n              this.questionList = res.data;\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n    .search-wrapper {\r\n        padding: 1.25rem;\r\n        height: 100%;\r\n        background: #fff !important;\r\n    }\r\n\r\n    .search-title {\r\n        color: #49b1f5;\r\n        font-size: 1.25rem;\r\n        line-height: 1;\r\n        margin-right: 1rem;\r\n    }\r\n\r\n    .search-title-selected {\r\n        color: #49b1f5;\r\n        font-size: 1.25rem;\r\n        line-height: 1;\r\n        margin-right: 1rem;\r\n        border-bottom: 5px solid #db4c2b;\r\n    }\r\n\r\n    .search-input-wrapper {\r\n        display: flex;\r\n        padding: 5px;\r\n        margin-bottom: 3px;\r\n        height: 35px;\r\n        width: 100%;\r\n        border: 2px solid #8e8cd8;\r\n        border-radius: 2rem;\r\n    }\r\n\r\n    .search-input-wrapper input {\r\n        width: 100%;\r\n        margin-left: 5px;\r\n        outline: none;\r\n    }\r\n\r\n    @media (min-width: 960px) {\r\n        .search-result-wrapper {\r\n            padding-right: 5px;\r\n            height: 450px;\r\n            overflow: auto;\r\n        }\r\n    }\r\n\r\n    @media (max-width: 959px) {\r\n        .search-result-wrapper {\r\n            height: 40vh;\r\n            overflow: auto;\r\n        }\r\n    }\r\n\r\n    .search-reslut a {\r\n        color: rgba(0, 0, 0, 0.77) !important;\r\n        font-size: 20px;\r\n        font-weight: bold;\r\n        border-bottom: 1px solid #999;\r\n        text-decoration: none;\r\n    }\r\n\r\n    .search-reslut-content {\r\n        color: #555;\r\n        cursor: text;\r\n        border-bottom: 2px dashed #d2ebfd;\r\n        padding: 5px 0;\r\n        line-height: 2;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        display: -webkit-box;\r\n        -webkit-line-clamp: 3;\r\n        -webkit-box-orient: vertical;\r\n    }\r\n\r\n    .divider {\r\n        margin: 20px 0;\r\n        border: 2px dashed #d2ebfd;\r\n    }\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n  // 关键字颜色\r\n  .keyword {\r\n    color: red;\r\n  }\r\n\r\n  // 链接鼠标浮动颜色\r\n  .search-reslut a:hover {\r\n    color: #49b1f5 !important;\r\n    .keyword {\r\n      color: #49b1f5 !important;\r\n    }\r\n  }\r\n\r\n</style>\r\n"]}]}