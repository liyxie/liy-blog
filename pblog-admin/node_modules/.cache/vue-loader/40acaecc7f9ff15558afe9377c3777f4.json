{"remainingRequest":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-admin\\src\\views\\listener\\quartz\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-admin\\src\\views\\listener\\quartz\\index.vue","mtime":1721286706005},{"path":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1721358892040},{"path":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1721358892834},{"path":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1721358892040},{"path":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1721358887250}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge2ZldGNoTGlzdCwgYWRkLCB1cGRhdGUsIGluZm8sIHJlbW92ZSxjaGFuZ2UsIHJ1biwgZGVsZXRlQmF0Y2h9IGZyb20gJ0AvYXBpL3F1YXJ0eicNCmltcG9ydCB7Z2V0RGF0YUJ5RGljdFR5cGV9IGZyb20gIkAvYXBpL2RpY3REYXRhIg0KaW1wb3J0IENyb250YWIgZnJvbSAnQC9jb21wb25lbnRzL0Nyb250YWInDQppbXBvcnQge3BhcnNlVGltZX0gZnJvbSAnQC91dGlscycNCmltcG9ydCB7aGFzQXV0aH0gZnJvbSAnQC91dGlscy9hdXRoJw0KaW1wb3J0IHttYXBHZXR0ZXJzfSBmcm9tICd2dWV4Jw0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7IENyb250YWIgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgLy8g5Yqg6L295bGC5L+h5oGvDQogICAgICBsb2FkaW5nOiBbXSwNCiAgICAgIHRhYmxlRGF0YTogW10sDQogICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsDQogICAgICBvcGVuVmlldzogZmFsc2UsDQogICAgICBzaG93U2VhcmNoOiB0cnVlLA0KICAgICAgam9iRGljdExpc3Q6W10sDQogICAgICBqb2JTdGF0dXNMaXN0OltdLA0KICAgICAgam9iTWlzZmlyZUxpc3Q6W10sDQogICAgICBqb2JEaWN0RGVmYXVsdFZhbHVlOiBudWxsLA0KICAgICAgam9iU3RhdHVzRGVmYXVsdFZhbHVlOiBudWxsLA0KICAgICAgam9iTWlzZmlyZURlZmF1bHRWYWx1ZTogbnVsbCwNCiAgICAgIGlzRWRpdEZvcm06IDAsDQogICAgICAvLyDmmK/lkKbmmL7npLpDcm9u6KGo6L6+5byP5by55Ye65bGCDQogICAgICBvcGVuQ3JvbjogZmFsc2UsDQogICAgICAvLyDkvKDlhaXnmoTooajovr7lvI8NCiAgICAgIGV4cHJlc3Npb246ICIiLA0KICAgICAgdG90YWw6IG51bGwsDQogICAgICBtdWx0aXBsZVNlbGVjdGlvbjpbXSwNCiAgICAgIHRpdGxlOiBudWxsLA0KICAgICAgam9iOiB7fSwNCiAgICAgIHBhcmFtczogew0KICAgICAgICBqb2JOYW1lOiBudWxsLA0KICAgICAgICBqb2JHcm91cDogbnVsbCwNCiAgICAgICAgc3RhdHVzOiBudWxsLA0KICAgICAgICBwYWdlTm86IDEsDQogICAgICAgIHBhZ2VTaXplOiAxMA0KICAgICAgfSwNCiAgICAgIHJ1bGVzOg0KICAgICAgICB7DQogICAgICAgICAgam9iTmFtZTogWw0KICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuS7u+WKoeWQjeensOS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJibHVyIiB9DQogICAgICAgICAgXSwNCiAgICAgICAgICBpbnZva2VUYXJnZXQ6IFsNCiAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLosIPnlKjnm67moIflrZfnrKbkuLLkuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiYmx1ciIgfQ0KICAgICAgICAgIF0sDQogICAgICAgICAgY3JvbkV4cHJlc3Npb246IFsNCiAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICJjcm9u5omn6KGM6KGo6L6+5byP5LiN6IO95Li656m6IiwgdHJpZ2dlcjogImJsdXIiIH0NCiAgICAgICAgICBdDQogICAgICAgIH0NCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5vcGVuTG9hZGluZygpOw0KICAgIHRoaXMuZ2V0RGljdExpc3QoKQ0KICAgIHRoaXMuZmV0Y2hKb2JzKCkNCiAgfSwNCiAgY29tcHV0ZWQ6ew0KICAgIC4uLm1hcEdldHRlcnMoWw0KICAgICAgJ3ByZXMnDQogICAgXSksDQogICAgY2FuQWRkOiBmdW5jdGlvbigpIHsNCiAgICAgIHJldHVybiBoYXNBdXRoKHRoaXMucHJlcywgJy9zeXN0ZW0vam9iL2FkZCcpDQogICAgfSwNCiAgICBjYW5EZWw6IGZ1bmN0aW9uKCkgew0KICAgICAgcmV0dXJuIGhhc0F1dGgodGhpcy5wcmVzLCAnL3N5c3RlbS9qb2IvZGVsZXRlJykNCiAgICB9LA0KICAgIGNhbkRlbGV0ZUJhdGNoOiBmdW5jdGlvbigpIHsNCiAgICAgIHJldHVybiBoYXNBdXRoKHRoaXMucHJlcywgJy9zeXN0ZW0vam9iL2RlbGV0ZUJhdGNoJykNCiAgICB9LA0KICAgIGNhblVwZGF0ZTogZnVuY3Rpb24oKSB7DQogICAgICByZXR1cm4gaGFzQXV0aCh0aGlzLnByZXMsICcvc3lzdGVtL2pvYi91cGRhdGUnKQ0KICAgIH0sDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBnZXREaWN0TGlzdDogZnVuY3Rpb24gKCkgew0KICAgICAgbGV0IGRpY3RUeXBlTGlzdCA9IFsnc3lzX2pvYl9ncm91cCcsJ3N5c19qb2Jfc3RhdHVzJywnc3lzX2pvYl9taXNmaXJlJ10NCiAgICAgIGdldERhdGFCeURpY3RUeXBlKGRpY3RUeXBlTGlzdCkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIGxldCBkaWN0TWFwID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgdGhpcy5qb2JEaWN0TGlzdCA9IGRpY3RNYXAuc3lzX2pvYl9ncm91cC5saXN0DQogICAgICAgIHRoaXMuam9iU3RhdHVzTGlzdCA9IGRpY3RNYXAuc3lzX2pvYl9zdGF0dXMubGlzdA0KICAgICAgICB0aGlzLmpvYk1pc2ZpcmVMaXN0ID0gZGljdE1hcC5zeXNfam9iX21pc2ZpcmUubGlzdA0KICAgICAgICB0aGlzLmpvYkRpY3REZWZhdWx0VmFsdWUgPSBkaWN0TWFwLnN5c19qb2JfZ3JvdXAuZGVmYXVsdFZhbHVlDQogICAgICAgIHRoaXMuam9iU3RhdHVzRGVmYXVsdFZhbHVlID0gZGljdE1hcC5zeXNfam9iX3N0YXR1cy5kZWZhdWx0VmFsdWUNCiAgICAgICAgdGhpcy5qb2JNaXNmaXJlRGVmYXVsdFZhbHVlID0gZGljdE1hcC5zeXNfam9iX21pc2ZpcmUuZGVmYXVsdFZhbHVlDQogICAgICB9KTsNCiAgICB9LA0KICAgIGZldGNoSm9iczogZnVuY3Rpb24gKCkgew0KICAgICAgZmV0Y2hMaXN0KHRoaXMucGFyYW1zKS50aGVuKHJlcyA9PiB7DQogICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLmRhdGEucmVjb3Jkcw0KICAgICAgICB0aGlzLnRvdGFsID0gcmVzLmRhdGEudG90YWwNCiAgICAgICAgdGhpcy5sb2FkaW5nLmNsb3NlKCk7DQogICAgICB9KS5jYXRjaChlcnIgPT4gew0KICAgICAgICBjb25zb2xlLmxvZyhlcnIpDQogICAgICB9KQ0KICAgIH0sDQogICAgc3VibWl0OiBmdW5jdGlvbiAoKXsNCiAgICAgIHRoaXMuJHJlZnNbJ2RhdGFGb3JtJ10udmFsaWRhdGUoKHZhbGlkKSA9PiB7DQogICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgIGlmICh0aGlzLmlzRWRpdEZvcm0pew0KICAgICAgICAgICAgdXBkYXRlKHRoaXMuam9iKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcygiT0siKQ0KICAgICAgICAgICAgICB0aGlzLmZldGNoSm9icygpDQogICAgICAgICAgICAgIHRoaXMuY2xvc2VEaWFsb2dGb3JtKCkNCiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgICBhZGQodGhpcy5qb2IpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCJPSyIpDQogICAgICAgICAgICAgIHRoaXMuZmV0Y2hKb2JzKCkNCiAgICAgICAgICAgICAgdGhpcy5jbG9zZURpYWxvZ0Zvcm0oKQ0KICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpDQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0NCiAgICAgICAgfWVsc2Ugew0KICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIm5vIHN1Ym1pdCIpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICByZW1vdmU6IGZ1bmN0aW9uIChzY29wZSkgew0KICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l6K6w5b2VLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsNCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLA0KICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywNCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnDQogICAgICB9KS50aGVuKCgpID0+IHsNCiAgICAgICAgcmVtb3ZlKHNjb3BlLnJvdy5qb2JJZCkudGhlbihyZXMgPT4gew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcygiT0siKQ0KICAgICAgICAgIHRoaXMuZmV0Y2hKb2JzKCkNCiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycikNCiAgICAgICAgfSkNCiAgICAgIH0pLmNhdGNoKCgpID0+IHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgdHlwZTogJ2luZm8nLA0KICAgICAgICAgIG1lc3NhZ2U6ICflj5bmtojliKDpmaQnDQogICAgICAgIH0pDQogICAgICB9KQ0KDQogICAgfSwNCiAgICBoYW5kbGVDcmVhdGU6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHRoaXMuaXNFZGl0Rm9ybSA9IDANCiAgICAgIHRoaXMuam9iID0gdGhpcy5nZXRGb3JtT2JqZWN0KCkNCiAgICAgIHRoaXMudGl0bGUgPSAi5paw5aKe5Lu75YqhIg0KICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWUNCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgdGhpcy4kcmVmc1snZGF0YUZvcm0nXS5jbGVhclZhbGlkYXRlKCkNCiAgICAgIH0pDQogICAgfSwNCiAgICBoYW5kbGVFZGl0OiBmdW5jdGlvbiAoc2NvcGUpIHsNCiAgICAgIHRoaXMudGl0bGUgPSAi5L+u5pS55Lu75YqhIg0KICAgICAgaW5mbyhzY29wZS5yb3cuam9iSWQpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy5qb2IgPSByZXMuZGF0YQ0KICAgICAgICB0aGlzLmlzRWRpdEZvcm0gPSAxDQogICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlDQogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICB0aGlzLiRyZWZzWydkYXRhRm9ybSddLmNsZWFyVmFsaWRhdGUoKQ0KICAgICAgICB9KQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGdldEZvcm1PYmplY3Q6IGZ1bmN0aW9uICgpew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgam9iTmFtZTogJycsDQogICAgICAgIGpvYkdyb3VwOiB0aGlzLmpvYkRpY3REZWZhdWx0VmFsdWUsDQogICAgICAgIGludm9rZVRhcmdldDogJycsDQogICAgICAgIGNyb25FeHByZXNzaW9uOiAnJywNCiAgICAgICAgbWlzZmlyZVBvbGljeTogdGhpcy5qb2JNaXNmaXJlRGVmYXVsdFZhbHVlLA0KICAgICAgICBjb25jdXJyZW50OiAxLA0KICAgICAgICBzdGF0dXM6IHRoaXMuam9iU3RhdHVzRGVmYXVsdFZhbHVlLA0KICAgICAgICByZW1hcms6IHRoaXMuam9iU3RhdHVzRGVmYXVsdFZhbHVlDQogICAgICB9DQogICAgfSwNCiAgICAvKiogY3JvbuihqOi+vuW8j+aMiemSruaTjeS9nCAqLw0KICAgIGhhbmRsZVNob3dDcm9uKCkgew0KICAgICAgdGhpcy5leHByZXNzaW9uID0gdGhpcy5qb2IuY3JvbkV4cHJlc3Npb247DQogICAgICB0aGlzLm9wZW5Dcm9uID0gdHJ1ZTsNCiAgICB9LA0KICAgIC8qKiDnoa7lrprlkI7lm57kvKDlgLwgKi8NCiAgICBjcm9udGFiRmlsbCh2YWx1ZSkgew0KICAgICAgdGhpcy5qb2IuY3JvbkV4cHJlc3Npb24gPSB2YWx1ZTsNCiAgICB9LA0KICAgIHJlc2V0UXVlcnk6IGZ1bmN0aW9uICgpew0KICAgICAgdGhpcy5wYXJhbXMuam9iTmFtZT1udWxsDQogICAgICB0aGlzLnBhcmFtcy5qb2JHcm91cD1udWxsDQogICAgICB0aGlzLnBhcmFtcy5zdGF0dXM9bnVsbA0KICAgICAgdGhpcy5mZXRjaEpvYnMoKQ0KICAgIH0sDQogICAgaGFuZGxlRmluZDogZnVuY3Rpb24gKCl7DQogICAgICB0aGlzLnBhcmFtcy5wYWdlTm89MTsNCiAgICAgIHRoaXMuZmV0Y2hKb2JzKCkNCiAgICB9LA0KICAgIC8vIOabtOWkmuaTjeS9nOinpuWPkQ0KICAgIGhhbmRsZUNvbW1hbmQoY29tbWFuZCwgcm93KSB7DQogICAgICBzd2l0Y2ggKGNvbW1hbmQpIHsNCiAgICAgICAgY2FzZSAiaGFuZGxlUnVuIjoNCiAgICAgICAgICB0aGlzLmhhbmRsZVJ1bihyb3cpOw0KICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICJoYW5kbGVWaWV3IjoNCiAgICAgICAgICB0aGlzLmhhbmRsZVZpZXcocm93KTsNCiAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAiaGFuZGxlSm9iTG9nIjoNCiAgICAgICAgICB0aGlzLmhhbmRsZUpvYkxvZyhyb3cpOw0KICAgICAgICAgIGJyZWFrOw0KICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgIGJyZWFrOw0KICAgICAgfQ0KICAgIH0sDQogICAgLyog56uL5Y2z5omn6KGM5LiA5qyhICovDQogICAgaGFuZGxlUnVuOiBmdW5jdGlvbiAocm93KSB7DQogICAgICB0aGlzLiRjb25maXJtKCfnoa7orqTopoHnq4vljbPmiafooYzkuIDmrKEiJyArIHJvdy5qb2JOYW1lICsgJyLku7vliqHlkJfvvJ8nKS50aGVuKGZ1bmN0aW9uKCkgew0KICAgICAgICByZXR1cm4gcnVuKHJvdyk7DQogICAgICB9KS50aGVuKCgpID0+IHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmiafooYzmiJDlip8iKTsNCiAgICAgIH0pLmNhdGNoKGVyciA9PiB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZXJyKQ0KICAgICAgfSk7DQogICAgfSwNCiAgICAvKiDnq4vljbPmiafooYzkuIDmrKEgKi8NCiAgICBoYW5kbGVWaWV3OiBmdW5jdGlvbiAocm93KSB7DQogICAgICBpbmZvKHJvdy5qb2JJZCkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIHRoaXMuam9iID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgdGhpcy5vcGVuVmlldyA9IHRydWU7DQogICAgICB9KTsNCiAgICB9LA0KICAgIC8qKiDku7vliqHml6Xlv5fliJfooajmn6Xor6IgKi8NCiAgICBoYW5kbGVKb2JMb2c6IGZ1bmN0aW9uIChyb3cpIHsNCiAgICAgIGNvbnN0IGpvYklkID0gcm93LmpvYklkIHx8IG51bGw7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICcvam9iTG9nJywgcXVlcnk6IHsgam9iSWQ6IGpvYklkIH0gfSkNCiAgICB9LA0KICAgIGhhbmRsZVN0YXR1c0NoYW5nZTogZnVuY3Rpb24gKHNjb3BlKXsNCiAgICAgIGNoYW5nZShzY29wZS5yb3cpLnRoZW4ocmVzID0+ew0KICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIk9LIikNCiAgICAgIH0pLmNhdGNoKGVyciA9PnsNCiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpDQogICAgICB9KQ0KICAgIH0sDQogICAgaGFuZGxlRGVsZXRlOiBmdW5jdGlvbiAoKXsNCiAgICAgIGlmICghdGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5sZW5ndGgpew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLor7fpgInmi6nopoHliKDpmaTnmoTmoIfnrb4iKQ0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgIH0NCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuawuOS5heWIoOmZpOivpeiusOW9lSwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7DQogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywNCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsDQogICAgICAgIHR5cGU6ICd3YXJuaW5nJw0KICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgIGRlbGV0ZUJhdGNoKHRoaXMubXVsdGlwbGVTZWxlY3Rpb24pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIk9LIikNCiAgICAgICAgICB0aGlzLmZldGNoSm9icygpDQogICAgICAgIH0pLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpDQogICAgICAgIH0pDQogICAgICB9KS5jYXRjaCgoKSA9PiB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgIHR5cGU6ICdpbmZvJywNCiAgICAgICAgICBtZXNzYWdlOiAn5Y+W5raI5Yig6ZmkJw0KICAgICAgICB9KQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGNsb3NlRGlhbG9nRm9ybTogZnVuY3Rpb24gKCkgew0KICAgICAgdGhpcy50YWcgPSB7fQ0KICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlDQogICAgfSwNCiAgICBoYW5kbGVTaXplQ2hhbmdlOiBmdW5jdGlvbiAodmFsKSB7DQogICAgICB0aGlzLnBhcmFtcy5wYWdlU2l6ZSA9IHZhbA0KICAgICAgdGhpcy5mZXRjaEpvYnMoKQ0KICAgIH0sDQogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gKHZhbCkgew0KICAgICAgdGhpcy5wYXJhbXMucGFnZU5vID0gdmFsDQogICAgICB0aGlzLmZldGNoSm9icygpDQogICAgfSwNCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uKHZhbCkgew0KICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbiA9IHZhbC5tYXAoaXRlbSA9PiBpdGVtLmpvYklkKTsNCiAgICB9LA0KICAgIC8vIOaJk+W8gOWKoOi9veWxgg0KICAgIG9wZW5Mb2FkaW5nKCkgew0KICAgICAgdGhpcy5sb2FkaW5nID0gdGhpcy4kbG9hZGluZyh7DQogICAgICAgIGxvY2s6IHRydWUsDQogICAgICAgIHRleHQ6ICLmraPlnKjliqDovb3kuK1+IiwNCiAgICAgICAgc3Bpbm5lcjogImVsLWljb24tbG9hZGluZyIsDQogICAgICAgIGJhY2tncm91bmQ6ICJyZ2JhKDAsIDAsIDAsIDAuNykiDQogICAgICB9KTsNCiAgICB9LA0KICAgIGRhdGFGb3JtYXQ6IGZ1bmN0aW9uKHRpbWUpew0KICAgICAgcmV0dXJuIHBhcnNlVGltZSh0aW1lKQ0KICAgIH0sDQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/listener/quartz","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <el-form :model=\"params\" ref=\"queryForm\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\r\n      <el-form-item label=\"任务名称\" prop=\"jobName\">\r\n        <el-input\r\n          v-model=\"params.jobName\"\r\n          placeholder=\"请输入任务名称\"\r\n          clearable\r\n          size=\"small\"\r\n          @keyup.enter.native=\"handleFind\"\r\n        />\r\n      </el-form-item>\r\n      <el-form-item label=\"任务组名\" prop=\"jobGroup\">\r\n        <el-select @change=\"handleFind\" v-model=\"params.jobGroup\" placeholder=\"请选择任务组名\" clearable size=\"small\">\r\n          <el-option\r\n            v-for=\"dict in jobDictList\"\r\n            :key=\"dict.value\"\r\n            :label=\"dict.label\"\r\n            :value=\"dict.value\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"任务状态\" prop=\"status\">\r\n        <el-select @change=\"handleFind\" v-model=\"params.status\" placeholder=\"请选择任务状态\" clearable size=\"small\">\r\n          <el-option\r\n            v-for=\"dict in jobStatusList\"\r\n            :key=\"dict.value\"\r\n            :label=\"dict.label\"\r\n            :value=\"dict.value\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleFind\">搜索</el-button>\r\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <el-row :gutter=\"10\" class=\"mb8\">\r\n      <el-col :span=\"1.5\">\r\n        <el-button\r\n          v-if=\"canAdd\"\r\n          type=\"primary\"\r\n          icon=\"el-icon-plus\"\r\n          size=\"mini\"\r\n          @click=\"handleCreate\"\r\n        >新增</el-button>\r\n      </el-col>\r\n      <el-col :span=\"1.5\">\r\n        <el-button\r\n          type=\"info\"\r\n          icon=\"el-icon-s-operation\"\r\n          size=\"mini\"\r\n          @click=\"handleJobLog\"\r\n        >日志</el-button>\r\n      </el-col>\r\n      <el-col :span=\"1.5\">\r\n        <el-button\r\n          :disabled=\"!multipleSelection.length\"\r\n          v-if=\"canDeleteBatch\"\r\n          type=\"danger\"\r\n          icon=\"el-icon-delete\"\r\n          size=\"mini\"\r\n          @click=\"handleDelete\"\r\n        >批量删除</el-button>\r\n      </el-col>\r\n      <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"fetchJobs\"></right-toolbar>\r\n    </el-row>\r\n\r\n    <div style=\"margin-top: 5px\">\r\n        <el-table border style=\"width: 100%\" :data=\"tableData\" @selection-change=\"handleSelectionChange\">\r\n          <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\r\n          <el-table-column label=\"任务名称\" width=\"160\" align=\"center\" prop=\"jobName\" :show-overflow-tooltip=\"true\" />\r\n          <el-table-column label=\"任务组名\" align=\"center\" prop=\"jobGroup\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tag v-for=\"dict in jobDictList\" v-if=\"dict.value === scope.row.jobGroup\" :type=\"dict.style\">\r\n                {{dict.label}}\r\n              </el-tag>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"调用目标字符串\" align=\"center\" prop=\"invokeTarget\" :show-overflow-tooltip=\"true\" />\r\n          <el-table-column label=\"cron执行表达式\" align=\"center\" prop=\"cronExpression\" :show-overflow-tooltip=\"true\" />\r\n          <el-table-column label=\"状态\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-switch\r\n                v-model=\"scope.row.status\"\r\n                active-value=\"0\"\r\n                inactive-value=\"1\"\r\n                @change=\"handleStatusChange(scope)\"\r\n              ></el-switch>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"创建者\" prop=\"createBy\" align=\"center\" />\r\n          <el-table-column label=\"创建时间\" align=\"center\" width=\"160\">\r\n            <template slot-scope=\"scope\">\r\n              {{dataFormat(scope.row.createTime)}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button v-if=\"canUpdate\" size=\"mini\" type=\"text\" @click=\"handleEdit(scope)\">修改</el-button>\r\n              <el-button v-if=\"canDel\" size=\"mini\" type=\"text\" @click=\"remove(scope)\">删除</el-button>\r\n              <el-dropdown v-if=\"canUpdate\" size=\"mini\" @command=\"(command) => handleCommand(command, scope.row)\" >\r\n                <el-button\r\n                  size=\"mini\"\r\n                  type=\"text\"\r\n                  style=\"margin-left: 9px\"\r\n                >更多</el-button>\r\n                <el-dropdown-menu slot=\"dropdown\">\r\n                  <el-dropdown-item command=\"handleRun\" icon=\"el-icon-caret-right\"\r\n                  >执行一次</el-dropdown-item>\r\n                  <el-dropdown-item command=\"handleView\" icon=\"el-icon-view\"\r\n                  >任务详细</el-dropdown-item>\r\n                  <el-dropdown-item command=\"handleJobLog\" icon=\"el-icon-s-operation\"\r\n                  >调度日志</el-dropdown-item>\r\n                </el-dropdown-menu>\r\n              </el-dropdown>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n\r\n    <!--分页区域-->\r\n    <div class=\"pagination-container\" style=\"float: right;margin-bottom: 1.25rem;margin-top: 1.25rem;\">\r\n      <el-pagination background @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\r\n                     :current-page=\"params.pageNo\" :page-size=\"params.pageSize\" :page-sizes=\"[10, 20, 30]\"\r\n                     layout=\"total, sizes,prev, pager, next,jumper\" :total=\"total\">\r\n      </el-pagination>\r\n    </div>\r\n\r\n    <!-- 添加或修改定时任务对话框 -->\r\n    <el-dialog :title=\"title\" :visible.sync=\"dialogFormVisible\" width=\"800px\" append-to-body>\r\n      <el-form ref=\"dataForm\" :model=\"job\" :rules=\"rules\" label-width=\"120px\">\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"任务名称\" prop=\"jobName\">\r\n              <el-input v-model=\"job.jobName\" placeholder=\"请输入任务名称\" />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"任务分组\" prop=\"jobGroup\">\r\n              <el-select v-model=\"job.jobGroup\" placeholder=\"请选择\">\r\n                <el-option\r\n                  v-for=\"dict in jobDictList\"\r\n                  :key=\"dict.value\"\r\n                  :label=\"dict.label\"\r\n                  :value=\"dict.value\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"24\">\r\n            <el-form-item prop=\"invokeTarget\">\r\n              <span slot=\"label\">\r\n                调用方法\r\n                <el-tooltip placement=\"top\">\r\n                  <div slot=\"content\">\r\n                    Bean调用示例：blogQuartz.blogParams('blog')\r\n                    <br />Class类调用示例：com.rulin.quartz.BlogQuartz.blogParams('blog')\r\n                    <br />参数说明：支持字符串，布尔类型，长整型，浮点型，整型\r\n                  </div>\r\n                  <i class=\"el-icon-question\"></i>\r\n                </el-tooltip>\r\n              </span>\r\n              <el-input v-model=\"job.invokeTarget\" placeholder=\"请输入调用目标字符串\" />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"24\">\r\n            <el-form-item label=\"cron表达式\" prop=\"cronExpression\">\r\n              <el-input v-model=\"job.cronExpression\" placeholder=\"请输入cron执行表达式\">\r\n                <template slot=\"append\">\r\n                  <el-button type=\"primary\" @click=\"handleShowCron\">\r\n                    生成表达式\r\n                    <i class=\"el-icon-time el-icon--right\"></i>\r\n                  </el-button>\r\n                </template>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"24\">\r\n            <el-form-item label=\"错误策略\" prop=\"misfirePolicy\">\r\n              <el-radio-group  v-model=\"job.misfirePolicy\" size=\"small\">\r\n                <el-radio-button v-for=\"item in jobMisfireList\" :key=\"item.value\" :label=\"item.value\">{{item.label}}</el-radio-button>\r\n              </el-radio-group>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"是否并发\" prop=\"concurrent\">\r\n              <el-radio-group v-model=\"job.concurrent\" size=\"small\">\r\n                <el-radio-button label=\"0\">允许</el-radio-button>\r\n                <el-radio-button label=\"1\">禁止</el-radio-button>\r\n              </el-radio-group>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"状态\">\r\n              <el-radio-group v-model=\"job.status\">\r\n                <el-radio\r\n                  v-for=\"dict in jobStatusList\"\r\n                  :key=\"dict.value\"\r\n                  :label=\"dict.value\"\r\n                >{{dict.label}}</el-radio>\r\n              </el-radio-group>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"submit\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <el-dialog title=\"Cron表达式生成器\" :visible.sync=\"openCron\" append-to-body destroy-on-close class=\"scrollbar\">\r\n      <crontab @hide=\"openCron=false\" @fill=\"crontabFill\" :expression=\"expression\"></crontab>\r\n    </el-dialog>\r\n\r\n    <!-- 任务日志详细 -->\r\n    <el-dialog title=\"任务详细\" :visible.sync=\"openView\" width=\"700px\" append-to-body>\r\n      <el-form ref=\"form\" :model=\"job\" label-width=\"120px\" size=\"mini\">\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"任务编号：\">{{ job.jobId }}</el-form-item>\r\n            <el-form-item label=\"任务名称：\">{{ job.jobName }}</el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item v-for=\"item in jobDictList\" v-if=\"item.value === job.jobGroup\" label=\"任务分组：\">\r\n              {{item.label}}\r\n            </el-form-item>\r\n            <el-form-item label=\"创建时间：\">{{ dataFormat(job.createTime) }}</el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"cron表达式：\">{{ job.cronExpression }}</el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"下次执行时间：\">{{ dataFormat(job.nextValidTime) }}</el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"24\">\r\n            <el-form-item label=\"调用目标方法：\">{{ job.invokeTarget }}</el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"任务状态：\">\r\n              <div v-for=\"item in jobStatusList\" v-if=\"job.status === item.value\">{{item.label}}</div>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"是否并发：\">\r\n              <div v-if=\"job.concurrent === '0'\">允许</div>\r\n              <div v-else-if=\"job.concurrent === '1'\">禁止</div>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"执行策略：\">\r\n              <div v-for=\"item in jobMisfireList\" v-if=\"job.misfirePolicy === item.value\">\r\n                {{item.label}}\r\n              </div>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"openView = false\">关 闭</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n\r\n</template>\r\n<script>\r\nimport {fetchList, add, update, info, remove,change, run, deleteBatch} from '@/api/quartz'\r\nimport {getDataByDictType} from \"@/api/dictData\"\r\nimport Crontab from '@/components/Crontab'\r\nimport {parseTime} from '@/utils'\r\nimport {hasAuth} from '@/utils/auth'\r\nimport {mapGetters} from 'vuex'\r\nexport default {\r\n  components: { Crontab },\r\n  data() {\r\n    return {\r\n      // 加载层信息\r\n      loading: [],\r\n      tableData: [],\r\n      dialogFormVisible: false,\r\n      openView: false,\r\n      showSearch: true,\r\n      jobDictList:[],\r\n      jobStatusList:[],\r\n      jobMisfireList:[],\r\n      jobDictDefaultValue: null,\r\n      jobStatusDefaultValue: null,\r\n      jobMisfireDefaultValue: null,\r\n      isEditForm: 0,\r\n      // 是否显示Cron表达式弹出层\r\n      openCron: false,\r\n      // 传入的表达式\r\n      expression: \"\",\r\n      total: null,\r\n      multipleSelection:[],\r\n      title: null,\r\n      job: {},\r\n      params: {\r\n        jobName: null,\r\n        jobGroup: null,\r\n        status: null,\r\n        pageNo: 1,\r\n        pageSize: 10\r\n      },\r\n      rules:\r\n        {\r\n          jobName: [\r\n            { required: true, message: \"任务名称不能为空\", trigger: \"blur\" }\r\n          ],\r\n          invokeTarget: [\r\n            { required: true, message: \"调用目标字符串不能为空\", trigger: \"blur\" }\r\n          ],\r\n          cronExpression: [\r\n            { required: true, message: \"cron执行表达式不能为空\", trigger: \"blur\" }\r\n          ]\r\n        }\r\n    }\r\n  },\r\n  created() {\r\n    this.openLoading();\r\n    this.getDictList()\r\n    this.fetchJobs()\r\n  },\r\n  computed:{\r\n    ...mapGetters([\r\n      'pres'\r\n    ]),\r\n    canAdd: function() {\r\n      return hasAuth(this.pres, '/system/job/add')\r\n    },\r\n    canDel: function() {\r\n      return hasAuth(this.pres, '/system/job/delete')\r\n    },\r\n    canDeleteBatch: function() {\r\n      return hasAuth(this.pres, '/system/job/deleteBatch')\r\n    },\r\n    canUpdate: function() {\r\n      return hasAuth(this.pres, '/system/job/update')\r\n    },\r\n  },\r\n  methods: {\r\n    getDictList: function () {\r\n      let dictTypeList = ['sys_job_group','sys_job_status','sys_job_misfire']\r\n      getDataByDictType(dictTypeList).then(response => {\r\n        let dictMap = response.data;\r\n        this.jobDictList = dictMap.sys_job_group.list\r\n        this.jobStatusList = dictMap.sys_job_status.list\r\n        this.jobMisfireList = dictMap.sys_job_misfire.list\r\n        this.jobDictDefaultValue = dictMap.sys_job_group.defaultValue\r\n        this.jobStatusDefaultValue = dictMap.sys_job_status.defaultValue\r\n        this.jobMisfireDefaultValue = dictMap.sys_job_misfire.defaultValue\r\n      });\r\n    },\r\n    fetchJobs: function () {\r\n      fetchList(this.params).then(res => {\r\n        this.tableData = res.data.records\r\n        this.total = res.data.total\r\n        this.loading.close();\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    },\r\n    submit: function (){\r\n      this.$refs['dataForm'].validate((valid) => {\r\n        if (valid) {\r\n          if (this.isEditForm){\r\n            update(this.job).then(res => {\r\n              this.$message.success(\"OK\")\r\n              this.fetchJobs()\r\n              this.closeDialogForm()\r\n            }).catch(err => {\r\n              console.error(err)\r\n            })\r\n          }else {\r\n            add(this.job).then(res => {\r\n              this.$message.success(\"OK\")\r\n              this.fetchJobs()\r\n              this.closeDialogForm()\r\n            }).catch(err => {\r\n              console.error(err)\r\n            })\r\n          }\r\n        }else {\r\n          console.error(\"no submit\")\r\n        }\r\n      })\r\n    },\r\n    remove: function (scope) {\r\n      this.$confirm('此操作将永久删除该记录, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        remove(scope.row.jobId).then(res => {\r\n          this.$message.success(\"OK\")\r\n          this.fetchJobs()\r\n        }).catch(err => {\r\n          console.error(err)\r\n        })\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '取消删除'\r\n        })\r\n      })\r\n\r\n    },\r\n    handleCreate: function () {\r\n      this.isEditForm = 0\r\n      this.job = this.getFormObject()\r\n      this.title = \"新增任务\"\r\n      this.dialogFormVisible = true\r\n      this.$nextTick(() => {\r\n        this.$refs['dataForm'].clearValidate()\r\n      })\r\n    },\r\n    handleEdit: function (scope) {\r\n      this.title = \"修改任务\"\r\n      info(scope.row.jobId).then(res => {\r\n        this.job = res.data\r\n        this.isEditForm = 1\r\n        this.dialogFormVisible = true\r\n        this.$nextTick(() => {\r\n          this.$refs['dataForm'].clearValidate()\r\n        })\r\n      })\r\n    },\r\n    getFormObject: function (){\r\n      return {\r\n        jobName: '',\r\n        jobGroup: this.jobDictDefaultValue,\r\n        invokeTarget: '',\r\n        cronExpression: '',\r\n        misfirePolicy: this.jobMisfireDefaultValue,\r\n        concurrent: 1,\r\n        status: this.jobStatusDefaultValue,\r\n        remark: this.jobStatusDefaultValue\r\n      }\r\n    },\r\n    /** cron表达式按钮操作 */\r\n    handleShowCron() {\r\n      this.expression = this.job.cronExpression;\r\n      this.openCron = true;\r\n    },\r\n    /** 确定后回传值 */\r\n    crontabFill(value) {\r\n      this.job.cronExpression = value;\r\n    },\r\n    resetQuery: function (){\r\n      this.params.jobName=null\r\n      this.params.jobGroup=null\r\n      this.params.status=null\r\n      this.fetchJobs()\r\n    },\r\n    handleFind: function (){\r\n      this.params.pageNo=1;\r\n      this.fetchJobs()\r\n    },\r\n    // 更多操作触发\r\n    handleCommand(command, row) {\r\n      switch (command) {\r\n        case \"handleRun\":\r\n          this.handleRun(row);\r\n          break;\r\n        case \"handleView\":\r\n          this.handleView(row);\r\n          break;\r\n        case \"handleJobLog\":\r\n          this.handleJobLog(row);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    },\r\n    /* 立即执行一次 */\r\n    handleRun: function (row) {\r\n      this.$confirm('确认要立即执行一次\"' + row.jobName + '\"任务吗？').then(function() {\r\n        return run(row);\r\n      }).then(() => {\r\n        this.$message.success(\"执行成功\");\r\n      }).catch(err => {\r\n        this.$message.error(err)\r\n      });\r\n    },\r\n    /* 立即执行一次 */\r\n    handleView: function (row) {\r\n      info(row.jobId).then(response => {\r\n        this.job = response.data;\r\n        this.openView = true;\r\n      });\r\n    },\r\n    /** 任务日志列表查询 */\r\n    handleJobLog: function (row) {\r\n      const jobId = row.jobId || null;\r\n      this.$router.push({ path: '/jobLog', query: { jobId: jobId } })\r\n    },\r\n    handleStatusChange: function (scope){\r\n      change(scope.row).then(res =>{\r\n        this.$message.success(\"OK\")\r\n      }).catch(err =>{\r\n        console.error(err)\r\n      })\r\n    },\r\n    handleDelete: function (){\r\n      if (!this.multipleSelection.length){\r\n        this.$message.error(\"请选择要删除的标签\")\r\n        return false\r\n      }\r\n      this.$confirm('此操作将永久删除该记录, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        deleteBatch(this.multipleSelection).then(res => {\r\n          this.$message.success(\"OK\")\r\n          this.fetchJobs()\r\n        }).catch(err => {\r\n          console.error(err)\r\n        })\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '取消删除'\r\n        })\r\n      })\r\n    },\r\n    closeDialogForm: function () {\r\n      this.tag = {}\r\n      this.dialogFormVisible = false\r\n    },\r\n    handleSizeChange: function (val) {\r\n      this.params.pageSize = val\r\n      this.fetchJobs()\r\n    },\r\n    handleCurrentChange: function (val) {\r\n      this.params.pageNo = val\r\n      this.fetchJobs()\r\n    },\r\n    handleSelectionChange: function(val) {\r\n      this.multipleSelection = val.map(item => item.jobId);\r\n    },\r\n    // 打开加载层\r\n    openLoading() {\r\n      this.loading = this.$loading({\r\n        lock: true,\r\n        text: \"正在加载中~\",\r\n        spinner: \"el-icon-loading\",\r\n        background: \"rgba(0, 0, 0, 0.7)\"\r\n      });\r\n    },\r\n    dataFormat: function(time){\r\n      return parseTime(time)\r\n    },\r\n  }\r\n}\r\n</script>\r\n"]}]}