{"remainingRequest":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-admin\\src\\components\\Crontab\\result.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-admin\\src\\components\\Crontab\\result.vue","mtime":1721286705955},{"path":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1721358892040},{"path":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1721358892834},{"path":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1721358892040},{"path":"E:\\MyWenJian\\Blogs\\rulin-blog\\pblog-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1721358887250}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdDcm9udGFiUmVzdWx0JywNCiAgcHJvcHM6IFsnZXgnXSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZGF5UnVsZTogJycsDQogICAgICBkYXlSdWxlU3VwOiAnJywNCiAgICAgIGRhdGVBcnI6IFtdLA0KICAgICAgcmVzdWx0TGlzdDogW10sDQogICAgICBpc1Nob3c6IGZhbHNlDQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICAgICdleCc6ICdleHByZXNzaW9uQ2hhbmdlJw0KICB9LA0KICBtb3VudGVkOiBmdW5jdGlvbigpIHsNCiAgICAvLyDliJ3lp4vljJYg6I635Y+W5LiA5qyh57uT5p6cDQogICAgdGhpcy5leHByZXNzaW9uQ2hhbmdlKCkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8vIOihqOi+vuW8j+WAvOWPmOWMluaXtu+8jOW8gOWni+WOu+iuoeeul+e7k+aenA0KICAgIGV4cHJlc3Npb25DaGFuZ2UoKSB7DQogICAgICAvLyDorqHnrpflvIDlp4st6ZqQ6JeP57uT5p6cDQogICAgICB0aGlzLmlzU2hvdyA9IGZhbHNlDQogICAgICAvLyDojrflj5bop4TliJnmlbDnu4RbMOenkuOAgTHliIbjgIEy5pe244CBM+aXpeOAgTTmnIjjgIE15pif5pyf44CBNuW5tF0NCiAgICAgIGNvbnN0IHJ1bGVBcnIgPSB0aGlzLiRvcHRpb25zLnByb3BzRGF0YS5leC5zcGxpdCgnICcpDQogICAgICAvLyDnlKjkuo7orrDlvZXov5vlhaXlvqrnjq/nmoTmrKHmlbANCiAgICAgIGxldCBudW1zID0gMA0KICAgICAgLy8g55So5LqO5pqC5pe25a2Y56ym5Y+35pe26Ze06KeE5YiZ57uT5p6c55qE5pWw57uEDQogICAgICBjb25zdCByZXN1bHRBcnIgPSBbXQ0KICAgICAgLy8g6I635Y+W5b2T5YmN5pe26Ze057K+56Gu6IezW+W5tOOAgeaciOOAgeaXpeOAgeaXtuOAgeWIhuOAgeenkl0NCiAgICAgIGNvbnN0IG5UaW1lID0gbmV3IERhdGUoKQ0KICAgICAgY29uc3QgblllYXIgPSBuVGltZS5nZXRGdWxsWWVhcigpDQogICAgICBsZXQgbk1vbnRoID0gblRpbWUuZ2V0TW9udGgoKSArIDENCiAgICAgIGxldCBuRGF5ID0gblRpbWUuZ2V0RGF0ZSgpDQogICAgICBsZXQgbkhvdXIgPSBuVGltZS5nZXRIb3VycygpDQogICAgICBsZXQgbk1pbiA9IG5UaW1lLmdldE1pbnV0ZXMoKQ0KICAgICAgbGV0IG5TZWNvbmQgPSBuVGltZS5nZXRTZWNvbmRzKCkNCiAgICAgIC8vIOagueaNruinhOWImeiOt+WPluWIsOi/kTEwMOW5tOWPr+iDveW5tOaVsOe7hOOAgeaciOaVsOe7hOetieetiQ0KICAgICAgdGhpcy5nZXRTZWNvbmRBcnIocnVsZUFyclswXSkNCiAgICAgIHRoaXMuZ2V0TWluQXJyKHJ1bGVBcnJbMV0pDQogICAgICB0aGlzLmdldEhvdXJBcnIocnVsZUFyclsyXSkNCiAgICAgIHRoaXMuZ2V0RGF5QXJyKHJ1bGVBcnJbM10pDQogICAgICB0aGlzLmdldE1vbnRoQXJyKHJ1bGVBcnJbNF0pDQogICAgICB0aGlzLmdldFdlZWtBcnIocnVsZUFycls1XSkNCiAgICAgIHRoaXMuZ2V0WWVhckFycihydWxlQXJyWzZdLCBuWWVhcikNCiAgICAgIC8vIOWwhuiOt+WPluWIsOeahOaVsOe7hOi1i+WAvC3mlrnkvr/kvb/nlKgNCiAgICAgIGNvbnN0IHNEYXRlID0gdGhpcy5kYXRlQXJyWzBdDQogICAgICBjb25zdCBtRGF0ZSA9IHRoaXMuZGF0ZUFyclsxXQ0KICAgICAgY29uc3QgaERhdGUgPSB0aGlzLmRhdGVBcnJbMl0NCiAgICAgIGNvbnN0IEREYXRlID0gdGhpcy5kYXRlQXJyWzNdDQogICAgICBjb25zdCBNRGF0ZSA9IHRoaXMuZGF0ZUFycls0XQ0KICAgICAgY29uc3QgWURhdGUgPSB0aGlzLmRhdGVBcnJbNV0NCiAgICAgIC8vIOiOt+WPluW9k+WJjeaXtumXtOWcqOaVsOe7hOS4reeahOe0ouW8lQ0KICAgICAgbGV0IHNJZHggPSB0aGlzLmdldEluZGV4KHNEYXRlLCBuU2Vjb25kKQ0KICAgICAgbGV0IG1JZHggPSB0aGlzLmdldEluZGV4KG1EYXRlLCBuTWluKQ0KICAgICAgbGV0IGhJZHggPSB0aGlzLmdldEluZGV4KGhEYXRlLCBuSG91cikNCiAgICAgIGxldCBESWR4ID0gdGhpcy5nZXRJbmRleChERGF0ZSwgbkRheSkNCiAgICAgIGxldCBNSWR4ID0gdGhpcy5nZXRJbmRleChNRGF0ZSwgbk1vbnRoKQ0KICAgICAgY29uc3QgWUlkeCA9IHRoaXMuZ2V0SW5kZXgoWURhdGUsIG5ZZWFyKQ0KICAgICAgLy8g6YeN572u5pyI5pel5pe25YiG56eS55qE5Ye95pWwKOWQjumdoueUqOeahOavlOi+g+WkmikNCiAgICAgIGNvbnN0IHJlc2V0U2Vjb25kID0gZnVuY3Rpb24oKSB7DQogICAgICAgIHNJZHggPSAwDQogICAgICAgIG5TZWNvbmQgPSBzRGF0ZVtzSWR4XQ0KICAgICAgfQ0KICAgICAgY29uc3QgcmVzZXRNaW4gPSBmdW5jdGlvbigpIHsNCiAgICAgICAgbUlkeCA9IDANCiAgICAgICAgbk1pbiA9IG1EYXRlW21JZHhdDQogICAgICAgIHJlc2V0U2Vjb25kKCkNCiAgICAgIH0NCiAgICAgIGNvbnN0IHJlc2V0SG91ciA9IGZ1bmN0aW9uKCkgew0KICAgICAgICBoSWR4ID0gMA0KICAgICAgICBuSG91ciA9IGhEYXRlW2hJZHhdDQogICAgICAgIHJlc2V0TWluKCkNCiAgICAgIH0NCiAgICAgIGNvbnN0IHJlc2V0RGF5ID0gZnVuY3Rpb24oKSB7DQogICAgICAgIERJZHggPSAwDQogICAgICAgIG5EYXkgPSBERGF0ZVtESWR4XQ0KICAgICAgICByZXNldEhvdXIoKQ0KICAgICAgfQ0KICAgICAgY29uc3QgcmVzZXRNb250aCA9IGZ1bmN0aW9uKCkgew0KICAgICAgICBNSWR4ID0gMA0KICAgICAgICBuTW9udGggPSBNRGF0ZVtNSWR4XQ0KICAgICAgICByZXNldERheSgpDQogICAgICB9DQogICAgICAvLyDlpoLmnpzlvZPliY3lubTku73kuI3kuLrmlbDnu4TkuK3lvZPliY3lgLwNCiAgICAgIGlmIChuWWVhciAhPT0gWURhdGVbWUlkeF0pIHsNCiAgICAgICAgcmVzZXRNb250aCgpDQogICAgICB9DQogICAgICAvLyDlpoLmnpzlvZPliY3mnIjku73kuI3kuLrmlbDnu4TkuK3lvZPliY3lgLwNCiAgICAgIGlmIChuTW9udGggIT09IE1EYXRlW01JZHhdKSB7DQogICAgICAgIHJlc2V0RGF5KCkNCiAgICAgIH0NCiAgICAgIC8vIOWmguaenOW9k+WJjeKAnOaXpeKAneS4jeS4uuaVsOe7hOS4reW9k+WJjeWAvA0KICAgICAgaWYgKG5EYXkgIT09IEREYXRlW0RJZHhdKSB7DQogICAgICAgIHJlc2V0SG91cigpDQogICAgICB9DQogICAgICAvLyDlpoLmnpzlvZPliY3igJzml7bigJ3kuI3kuLrmlbDnu4TkuK3lvZPliY3lgLwNCiAgICAgIGlmIChuSG91ciAhPT0gaERhdGVbaElkeF0pIHsNCiAgICAgICAgcmVzZXRNaW4oKQ0KICAgICAgfQ0KICAgICAgLy8g5aaC5p6c5b2T5YmN4oCc5YiG4oCd5LiN5Li65pWw57uE5Lit5b2T5YmN5YC8DQogICAgICBpZiAobk1pbiAhPT0gbURhdGVbbUlkeF0pIHsNCiAgICAgICAgcmVzZXRTZWNvbmQoKQ0KICAgICAgfQ0KDQogICAgICAvLyDlvqrnjq/lubTku73mlbDnu4QNCiAgICAgIGdvWWVhcjogZm9yIChsZXQgWWkgPSBZSWR4OyBZaSA8IFlEYXRlLmxlbmd0aDsgWWkrKykgew0KICAgICAgICBjb25zdCBZWSA9IFlEYXRlW1lpXQ0KICAgICAgICAvLyDlpoLmnpzliLDovr7mnIDlpKflgLzml7YNCiAgICAgICAgaWYgKG5Nb250aCA+IE1EYXRlW01EYXRlLmxlbmd0aCAtIDFdKSB7DQogICAgICAgICAgcmVzZXRNb250aCgpDQogICAgICAgICAgY29udGludWUNCiAgICAgICAgfQ0KICAgICAgICAvLyDlvqrnjq/mnIjku73mlbDnu4QNCiAgICAgICAgZ29Nb250aDogZm9yIChsZXQgTWkgPSBNSWR4OyBNaSA8IE1EYXRlLmxlbmd0aDsgTWkrKykgew0KICAgICAgICAgIC8vIOi1i+WAvOOAgeaWueS+v+WQjumdoui/kOeulw0KICAgICAgICAgIGxldCBNTSA9IE1EYXRlW01pXQ0KICAgICAgICAgIE1NID0gTU0gPCAxMCA/ICcwJyArIE1NIDogTU0NCiAgICAgICAgICAvLyDlpoLmnpzliLDovr7mnIDlpKflgLzml7YNCiAgICAgICAgICBpZiAobkRheSA+IEREYXRlW0REYXRlLmxlbmd0aCAtIDFdKSB7DQogICAgICAgICAgICByZXNldERheSgpDQogICAgICAgICAgICBpZiAoTWkgPT0gTURhdGUubGVuZ3RoIC0gMSkgew0KICAgICAgICAgICAgICByZXNldE1vbnRoKCkNCiAgICAgICAgICAgICAgY29udGludWUgZ29ZZWFyDQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb250aW51ZQ0KICAgICAgICAgIH0NCiAgICAgICAgICAvLyDlvqrnjq/ml6XmnJ/mlbDnu4QNCiAgICAgICAgICBnb0RheTogZm9yIChsZXQgRGkgPSBESWR4OyBEaSA8IEREYXRlLmxlbmd0aDsgRGkrKykgew0KICAgICAgICAgICAgLy8g6LWL5YC844CB5pa55L6/5ZCO6Z2i6L+Q566XDQogICAgICAgICAgICBsZXQgREQgPSBERGF0ZVtEaV0NCiAgICAgICAgICAgIGxldCB0aGlzREQgPSBERCA8IDEwID8gJzAnICsgREQgOiBERA0KDQogICAgICAgICAgICAvLyDlpoLmnpzliLDovr7mnIDlpKflgLzml7YNCiAgICAgICAgICAgIGlmIChuSG91ciA+IGhEYXRlW2hEYXRlLmxlbmd0aCAtIDFdKSB7DQogICAgICAgICAgICAgIHJlc2V0SG91cigpDQogICAgICAgICAgICAgIGlmIChEaSA9PSBERGF0ZS5sZW5ndGggLSAxKSB7DQogICAgICAgICAgICAgICAgcmVzZXREYXkoKQ0KICAgICAgICAgICAgICAgIGlmIChNaSA9PSBNRGF0ZS5sZW5ndGggLSAxKSB7DQogICAgICAgICAgICAgICAgICByZXNldE1vbnRoKCkNCiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIGdvWWVhcg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjb250aW51ZSBnb01vbnRoDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgY29udGludWUNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8g5Yik5pat5pel5pyf55qE5ZCI5rOV5oCn77yM5LiN5ZCI5rOV55qE6K+d5Lmf5piv6Lez5Ye65b2T5YmN5b6q546vDQogICAgICAgICAgICBpZiAodGhpcy5jaGVja0RhdGUoWVkgKyAnLScgKyBNTSArICctJyArIHRoaXNERCArICcgMDA6MDA6MDAnKSAhPT0gdHJ1ZSAmJiB0aGlzLmRheVJ1bGUgIT09ICd3b3JrRGF5JyAmJiB0aGlzLmRheVJ1bGUgIT09ICdsYXN0V2VlaycgJiYgdGhpcy5kYXlSdWxlICE9PSAnbGFzdERheScpIHsNCiAgICAgICAgICAgICAgcmVzZXREYXkoKQ0KICAgICAgICAgICAgICBjb250aW51ZSBnb01vbnRoDQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyDlpoLmnpzml6XmnJ/op4TliJnkuK3mnInlgLzml7YNCiAgICAgICAgICAgIGlmICh0aGlzLmRheVJ1bGUgPT0gJ2xhc3REYXknKSB7DQogICAgICAgICAgICAgIC8vIOWmguaenOS4jeaYr+WQiOazleaXpeacn+WImemcgOimgeWwhuWJjeWwhuaXpeacn+iwg+WIsOWQiOazleaXpeacn+WNs+aciOacq+acgOWQjuS4gOWkqQ0KDQogICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrRGF0ZShZWSArICctJyArIE1NICsgJy0nICsgdGhpc0REICsgJyAwMDowMDowMCcpICE9PSB0cnVlKSB7DQogICAgICAgICAgICAgICAgd2hpbGUgKEREID4gMCAmJiB0aGlzLmNoZWNrRGF0ZShZWSArICctJyArIE1NICsgJy0nICsgdGhpc0REICsgJyAwMDowMDowMCcpICE9PSB0cnVlKSB7DQogICAgICAgICAgICAgICAgICBERC0tDQoNCiAgICAgICAgICAgICAgICAgIHRoaXNERCA9IEREIDwgMTAgPyAnMCcgKyBERCA6IEREDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGF5UnVsZSA9PSAnd29ya0RheScpIHsNCiAgICAgICAgICAgICAgLy8g5qCh6aqM5bm26LCD5pW05aaC5p6c5pivMuaciDMw5Y+36L+Z56eN5pel5pyf5Lyg6L+b5p2l5pe26ZyA6LCD5pW06Iez5q2j5bi45pyI5bqVDQogICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrRGF0ZShZWSArICctJyArIE1NICsgJy0nICsgdGhpc0REICsgJyAwMDowMDowMCcpICE9PSB0cnVlKSB7DQogICAgICAgICAgICAgICAgd2hpbGUgKEREID4gMCAmJiB0aGlzLmNoZWNrRGF0ZShZWSArICctJyArIE1NICsgJy0nICsgdGhpc0REICsgJyAwMDowMDowMCcpICE9PSB0cnVlKSB7DQogICAgICAgICAgICAgICAgICBERC0tDQogICAgICAgICAgICAgICAgICB0aGlzREQgPSBERCA8IDEwID8gJzAnICsgREQgOiBERA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAvLyDojrflj5bovr7liLDmnaHku7bnmoTml6XmnJ/mmK/mmJ/mnJ9YDQogICAgICAgICAgICAgIGNvbnN0IHRoaXNXZWVrID0gdGhpcy5mb3JtYXREYXRlKG5ldyBEYXRlKFlZICsgJy0nICsgTU0gKyAnLScgKyB0aGlzREQgKyAnIDAwOjAwOjAwJyksICd3ZWVrJykNCiAgICAgICAgICAgICAgLy8g5b2T5pif5pyf5pel5pe2DQogICAgICAgICAgICAgIGlmICh0aGlzV2VlayA9PSAxKSB7DQogICAgICAgICAgICAgICAgLy8g5YWI5om+5LiL5LiA5Liq5pel77yM5bm25Yik5pat5piv5ZCm5Li65pyI5bqVDQogICAgICAgICAgICAgICAgREQrKw0KICAgICAgICAgICAgICAgIHRoaXNERCA9IEREIDwgMTAgPyAnMCcgKyBERCA6IEREDQogICAgICAgICAgICAgICAgLy8g5Yik5pat5LiL5LiA5pel5bey57uP5LiN5piv5ZCI5rOV5pel5pyfDQogICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tEYXRlKFlZICsgJy0nICsgTU0gKyAnLScgKyB0aGlzREQgKyAnIDAwOjAwOjAwJykgIT09IHRydWUpIHsNCiAgICAgICAgICAgICAgICAgIEREIC09IDMNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpc1dlZWsgPT0gNykgew0KICAgICAgICAgICAgICAgIC8vIOW9k+aYn+acnzbml7blj6rpnIDliKTmlq3kuI3mmK8x5Y+35bCx5Y+v6L+b6KGM5pON5L2cDQogICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF5UnVsZVN1cCAhPT0gMSkgew0KICAgICAgICAgICAgICAgICAgREQtLQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICBERCArPSAyDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGF5UnVsZSA9PSAnd2Vla0RheScpIHsNCiAgICAgICAgICAgICAgLy8g5aaC5p6c5oyH5a6a5LqG5piv5pif5pyf5YegDQogICAgICAgICAgICAgIC8vIOiOt+WPluW9k+WJjeaXpeacn+aYr+WxnuS6juaYn+acn+WHoA0KICAgICAgICAgICAgICBjb25zdCB0aGlzV2VlayA9IHRoaXMuZm9ybWF0RGF0ZShuZXcgRGF0ZShZWSArICctJyArIE1NICsgJy0nICsgREQgKyAnIDAwOjAwOjAwJyksICd3ZWVrJykNCiAgICAgICAgICAgICAgLy8g5qCh6aqM5b2T5YmN5pif5pyf5piv5ZCm5Zyo5pif5pyf5rGg77yIZGF5UnVsZVN1cO+8ieS4rQ0KICAgICAgICAgICAgICBpZiAodGhpcy5kYXlSdWxlU3VwLmluZGV4T2YodGhpc1dlZWspIDwgMCkgew0KICAgICAgICAgICAgICAgIC8vIOWmguaenOWIsOi+vuacgOWkp+WAvOaXtg0KICAgICAgICAgICAgICAgIGlmIChEaSA9PSBERGF0ZS5sZW5ndGggLSAxKSB7DQogICAgICAgICAgICAgICAgICByZXNldERheSgpDQogICAgICAgICAgICAgICAgICBpZiAoTWkgPT0gTURhdGUubGVuZ3RoIC0gMSkgew0KICAgICAgICAgICAgICAgICAgICByZXNldE1vbnRoKCkNCiAgICAgICAgICAgICAgICAgICAgY29udGludWUgZ29ZZWFyDQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICBjb250aW51ZSBnb01vbnRoDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNvbnRpbnVlDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXlSdWxlID09ICdhc3NXZWVrJykgew0KICAgICAgICAgICAgICAvLyDlpoLmnpzmjIflrprkuobmmK/nrKzlh6DlkajnmoTmmJ/mnJ/lh6ANCiAgICAgICAgICAgICAgLy8g6I635Y+W5q+P5pyIMeWPt+aYr+WxnuS6juaYn+acn+WHoA0KICAgICAgICAgICAgICBjb25zdCB0aGlzV2VlayA9IHRoaXMuZm9ybWF0RGF0ZShuZXcgRGF0ZShZWSArICctJyArIE1NICsgJy0nICsgREQgKyAnIDAwOjAwOjAwJyksICd3ZWVrJykNCiAgICAgICAgICAgICAgaWYgKHRoaXMuZGF5UnVsZVN1cFsxXSA+PSB0aGlzV2Vlaykgew0KICAgICAgICAgICAgICAgIEREID0gKHRoaXMuZGF5UnVsZVN1cFswXSAtIDEpICogNyArIHRoaXMuZGF5UnVsZVN1cFsxXSAtIHRoaXNXZWVrICsgMQ0KICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIEREID0gdGhpcy5kYXlSdWxlU3VwWzBdICogNyArIHRoaXMuZGF5UnVsZVN1cFsxXSAtIHRoaXNXZWVrICsgMQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGF5UnVsZSA9PSAnbGFzdFdlZWsnKSB7DQogICAgICAgICAgICAgIC8vIOWmguaenOaMh+WumuS6huavj+aciOacgOWQjuS4gOS4quaYn+acn+WHoA0KICAgICAgICAgICAgICAvLyDmoKHpqozlubbosIPmlbTlpoLmnpzmmK8y5pyIMzDlj7fov5nnp43ml6XmnJ/kvKDov5vmnaXml7bpnIDosIPmlbToh7PmraPluLjmnIjlupUNCiAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tEYXRlKFlZICsgJy0nICsgTU0gKyAnLScgKyB0aGlzREQgKyAnIDAwOjAwOjAwJykgIT09IHRydWUpIHsNCiAgICAgICAgICAgICAgICB3aGlsZSAoREQgPiAwICYmIHRoaXMuY2hlY2tEYXRlKFlZICsgJy0nICsgTU0gKyAnLScgKyB0aGlzREQgKyAnIDAwOjAwOjAwJykgIT09IHRydWUpIHsNCiAgICAgICAgICAgICAgICAgIERELS0NCiAgICAgICAgICAgICAgICAgIHRoaXNERCA9IEREIDwgMTAgPyAnMCcgKyBERCA6IEREDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIC8vIOiOt+WPluaciOacq+acgOWQjuS4gOWkqeaYr+aYn+acn+WHoA0KICAgICAgICAgICAgICBjb25zdCB0aGlzV2VlayA9IHRoaXMuZm9ybWF0RGF0ZShuZXcgRGF0ZShZWSArICctJyArIE1NICsgJy0nICsgdGhpc0REICsgJyAwMDowMDowMCcpLCAnd2VlaycpDQogICAgICAgICAgICAgIC8vIOaJvuWIsOimgeaxguS4reacgOi/keeahOmCo+S4quaYn+acn+WHoA0KICAgICAgICAgICAgICBpZiAodGhpcy5kYXlSdWxlU3VwIDwgdGhpc1dlZWspIHsNCiAgICAgICAgICAgICAgICBERCAtPSB0aGlzV2VlayAtIHRoaXMuZGF5UnVsZVN1cA0KICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGF5UnVsZVN1cCA+IHRoaXNXZWVrKSB7DQogICAgICAgICAgICAgICAgREQgLT0gNyAtICh0aGlzLmRheVJ1bGVTdXAgLSB0aGlzV2VlaykNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8g5Yik5pat5pe26Ze05YC85piv5ZCm5bCP5LqOMTDnva7mjaLmiJDigJwwNeKAnei/meenjeagvOW8jw0KICAgICAgICAgICAgREQgPSBERCA8IDEwID8gJzAnICsgREQgOiBERA0KDQogICAgICAgICAgICAvLyDlvqrnjq/igJzml7bigJ3mlbDnu4QNCiAgICAgICAgICAgIGdvSG91cjogZm9yIChsZXQgaGkgPSBoSWR4OyBoaSA8IGhEYXRlLmxlbmd0aDsgaGkrKykgew0KICAgICAgICAgICAgICBjb25zdCBoaCA9IGhEYXRlW2hpXSA8IDEwID8gJzAnICsgaERhdGVbaGldIDogaERhdGVbaGldDQoNCiAgICAgICAgICAgICAgLy8g5aaC5p6c5Yiw6L6+5pyA5aSn5YC85pe2DQogICAgICAgICAgICAgIGlmIChuTWluID4gbURhdGVbbURhdGUubGVuZ3RoIC0gMV0pIHsNCiAgICAgICAgICAgICAgICByZXNldE1pbigpDQogICAgICAgICAgICAgICAgaWYgKGhpID09IGhEYXRlLmxlbmd0aCAtIDEpIHsNCiAgICAgICAgICAgICAgICAgIHJlc2V0SG91cigpDQogICAgICAgICAgICAgICAgICBpZiAoRGkgPT0gRERhdGUubGVuZ3RoIC0gMSkgew0KICAgICAgICAgICAgICAgICAgICByZXNldERheSgpDQogICAgICAgICAgICAgICAgICAgIGlmIChNaSA9PSBNRGF0ZS5sZW5ndGggLSAxKSB7DQogICAgICAgICAgICAgICAgICAgICAgcmVzZXRNb250aCgpDQogICAgICAgICAgICAgICAgICAgICAgY29udGludWUgZ29ZZWFyDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgY29udGludWUgZ29Nb250aA0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgY29udGludWUgZ29EYXkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY29udGludWUNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAvLyDlvqrnjq8i5YiGIuaVsOe7hA0KICAgICAgICAgICAgICBnb01pbjogZm9yIChsZXQgbWkgPSBtSWR4OyBtaSA8IG1EYXRlLmxlbmd0aDsgbWkrKykgew0KICAgICAgICAgICAgICAgIGNvbnN0IG1tID0gbURhdGVbbWldIDwgMTAgPyAnMCcgKyBtRGF0ZVttaV0gOiBtRGF0ZVttaV0NCg0KICAgICAgICAgICAgICAgIC8vIOWmguaenOWIsOi+vuacgOWkp+WAvOaXtg0KICAgICAgICAgICAgICAgIGlmIChuU2Vjb25kID4gc0RhdGVbc0RhdGUubGVuZ3RoIC0gMV0pIHsNCiAgICAgICAgICAgICAgICAgIHJlc2V0U2Vjb25kKCkNCiAgICAgICAgICAgICAgICAgIGlmIChtaSA9PSBtRGF0ZS5sZW5ndGggLSAxKSB7DQogICAgICAgICAgICAgICAgICAgIHJlc2V0TWluKCkNCiAgICAgICAgICAgICAgICAgICAgaWYgKGhpID09IGhEYXRlLmxlbmd0aCAtIDEpIHsNCiAgICAgICAgICAgICAgICAgICAgICByZXNldEhvdXIoKQ0KICAgICAgICAgICAgICAgICAgICAgIGlmIChEaSA9PSBERGF0ZS5sZW5ndGggLSAxKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXNldERheSgpDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoTWkgPT0gTURhdGUubGVuZ3RoIC0gMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICByZXNldE1vbnRoKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgZ29ZZWFyDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBnb01vbnRoDQogICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIGdvRGF5DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgY29udGludWUgZ29Ib3VyDQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICBjb250aW51ZQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvLyDlvqrnjq8i56eSIuaVsOe7hA0KICAgICAgICAgICAgICAgIGZvciAobGV0IHNpID0gc0lkeDsgc2kgPD0gc0RhdGUubGVuZ3RoIC0gMTsgc2krKykgew0KICAgICAgICAgICAgICAgICAgY29uc3Qgc3MgPSBzRGF0ZVtzaV0gPCAxMCA/ICcwJyArIHNEYXRlW3NpXSA6IHNEYXRlW3NpXQ0KICAgICAgICAgICAgICAgICAgLy8g5re75Yqg5b2T5YmN5pe26Ze077yI5pe26Ze05ZCI5rOV5oCn5Zyo5pel5pyf5b6q546v5pe25bey57uP5Yik5pat77yJDQogICAgICAgICAgICAgICAgICBpZiAoTU0gIT09ICcwMCcgJiYgREQgIT09ICcwMCcpIHsNCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0QXJyLnB1c2goWVkgKyAnLScgKyBNTSArICctJyArIEREICsgJyAnICsgaGggKyAnOicgKyBtbSArICc6JyArIHNzKQ0KICAgICAgICAgICAgICAgICAgICBudW1zKysNCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIC8vIOWmguaenOadoeaVsOa7oeS6huWwsemAgOWHuuW+queOrw0KICAgICAgICAgICAgICAgICAgaWYgKG51bXMgPT0gNSkgYnJlYWsgZ29ZZWFyDQogICAgICAgICAgICAgICAgICAvLyDlpoLmnpzliLDovr7mnIDlpKflgLzml7YNCiAgICAgICAgICAgICAgICAgIGlmIChzaSA9PSBzRGF0ZS5sZW5ndGggLSAxKSB7DQogICAgICAgICAgICAgICAgICAgIHJlc2V0U2Vjb25kKCkNCiAgICAgICAgICAgICAgICAgICAgaWYgKG1pID09IG1EYXRlLmxlbmd0aCAtIDEpIHsNCiAgICAgICAgICAgICAgICAgICAgICByZXNldE1pbigpDQogICAgICAgICAgICAgICAgICAgICAgaWYgKGhpID09IGhEYXRlLmxlbmd0aCAtIDEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0SG91cigpDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoRGkgPT0gRERhdGUubGVuZ3RoIC0gMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICByZXNldERheSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNaSA9PSBNRGF0ZS5sZW5ndGggLSAxKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRNb250aCgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgZ29ZZWFyDQogICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgZ29Nb250aA0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgZ29EYXkNCiAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgY29udGludWUgZ29Ib3VyDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgY29udGludWUgZ29NaW4NCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IC8vIGdvU2Vjb25kDQogICAgICAgICAgICAgIH0gLy8gZ29NaW4NCiAgICAgICAgICAgIH0vLyBnb0hvdXINCiAgICAgICAgICB9Ly8gZ29EYXkNCiAgICAgICAgfS8vIGdvTW9udGgNCiAgICAgIH0NCiAgICAgIC8vIOWIpOaWrTEwMOW5tOWGheeahOe7k+aenOadoeaVsA0KICAgICAgaWYgKHJlc3VsdEFyci5sZW5ndGggPT0gMCkgew0KICAgICAgICB0aGlzLnJlc3VsdExpc3QgPSBbJ+ayoeaciei+vuWIsOadoeS7tueahOe7k+aenO+8gSddDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnJlc3VsdExpc3QgPSByZXN1bHRBcnINCiAgICAgICAgaWYgKHJlc3VsdEFyci5sZW5ndGggIT09IDUpIHsNCiAgICAgICAgICB0aGlzLnJlc3VsdExpc3QucHVzaCgn5pyA6L+RMTAw5bm05YaF5Y+q5pyJ5LiK6Z2iJyArIHJlc3VsdEFyci5sZW5ndGggKyAn5p2h57uT5p6c77yBJykNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgLy8g6K6h566X5a6M5oiQLeaYvuekuue7k+aenA0KICAgICAgdGhpcy5pc1Nob3cgPSB0cnVlDQogICAgfSwNCiAgICAvLyDnlKjkuo7orqHnrpfmn5DkvY3mlbDlrZflnKjmlbDnu4TkuK3nmoTntKLlvJUNCiAgICBnZXRJbmRleChhcnIsIHZhbHVlKSB7DQogICAgICBpZiAodmFsdWUgPD0gYXJyWzBdIHx8IHZhbHVlID4gYXJyW2Fyci5sZW5ndGggLSAxXSkgew0KICAgICAgICByZXR1cm4gMA0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoIC0gMTsgaSsrKSB7DQogICAgICAgICAgaWYgKHZhbHVlID4gYXJyW2ldICYmIHZhbHVlIDw9IGFycltpICsgMV0pIHsNCiAgICAgICAgICAgIHJldHVybiBpICsgMQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g6I635Y+WIuW5tCLmlbDnu4QNCiAgICBnZXRZZWFyQXJyKHJ1bGUsIHllYXIpIHsNCiAgICAgIHRoaXMuZGF0ZUFycls1XSA9IHRoaXMuZ2V0T3JkZXJBcnIoeWVhciwgeWVhciArIDEwMCkNCiAgICAgIGlmIChydWxlICE9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgaWYgKHJ1bGUuaW5kZXhPZignLScpID49IDApIHsNCiAgICAgICAgICB0aGlzLmRhdGVBcnJbNV0gPSB0aGlzLmdldEN5Y2xlQXJyKHJ1bGUsIHllYXIgKyAxMDAsIGZhbHNlKQ0KICAgICAgICB9IGVsc2UgaWYgKHJ1bGUuaW5kZXhPZignLycpID49IDApIHsNCiAgICAgICAgICB0aGlzLmRhdGVBcnJbNV0gPSB0aGlzLmdldEF2ZXJhZ2VBcnIocnVsZSwgeWVhciArIDEwMCkNCiAgICAgICAgfSBlbHNlIGlmIChydWxlICE9PSAnKicpIHsNCiAgICAgICAgICB0aGlzLmRhdGVBcnJbNV0gPSB0aGlzLmdldEFzc2lnbkFycihydWxlKQ0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICAvLyDojrflj5Yi5pyIIuaVsOe7hA0KICAgIGdldE1vbnRoQXJyKHJ1bGUpIHsNCiAgICAgIHRoaXMuZGF0ZUFycls0XSA9IHRoaXMuZ2V0T3JkZXJBcnIoMSwgMTIpDQogICAgICBpZiAocnVsZS5pbmRleE9mKCctJykgPj0gMCkgew0KICAgICAgICB0aGlzLmRhdGVBcnJbNF0gPSB0aGlzLmdldEN5Y2xlQXJyKHJ1bGUsIDEyLCBmYWxzZSkNCiAgICAgIH0gZWxzZSBpZiAocnVsZS5pbmRleE9mKCcvJykgPj0gMCkgew0KICAgICAgICB0aGlzLmRhdGVBcnJbNF0gPSB0aGlzLmdldEF2ZXJhZ2VBcnIocnVsZSwgMTIpDQogICAgICB9IGVsc2UgaWYgKHJ1bGUgIT09ICcqJykgew0KICAgICAgICB0aGlzLmRhdGVBcnJbNF0gPSB0aGlzLmdldEFzc2lnbkFycihydWxlKQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g6I635Y+WIuaXpSLmlbDnu4Qt5Li76KaB5Li65pel5pyf6KeE5YiZDQogICAgZ2V0V2Vla0FycihydWxlKSB7DQogICAgICAvLyDlj6rmnInlvZPml6XmnJ/op4TliJnnmoTkuKTkuKrlgLzlnYfkuLrigJzigJ3ml7bliJnooajovr7ml6XmnJ/mmK/mnInpgInpobnnmoQNCiAgICAgIGlmICh0aGlzLmRheVJ1bGUgPT0gJycgJiYgdGhpcy5kYXlSdWxlU3VwID09ICcnKSB7DQogICAgICAgIGlmIChydWxlLmluZGV4T2YoJy0nKSA+PSAwKSB7DQogICAgICAgICAgdGhpcy5kYXlSdWxlID0gJ3dlZWtEYXknDQogICAgICAgICAgdGhpcy5kYXlSdWxlU3VwID0gdGhpcy5nZXRDeWNsZUFycihydWxlLCA3LCBmYWxzZSkNCiAgICAgICAgfSBlbHNlIGlmIChydWxlLmluZGV4T2YoJyMnKSA+PSAwKSB7DQogICAgICAgICAgdGhpcy5kYXlSdWxlID0gJ2Fzc1dlZWsnDQogICAgICAgICAgY29uc3QgbWF0Y2hSdWxlID0gcnVsZS5tYXRjaCgvWzAtOV17MX0vZykNCiAgICAgICAgICB0aGlzLmRheVJ1bGVTdXAgPSBbTnVtYmVyKG1hdGNoUnVsZVsxXSksIE51bWJlcihtYXRjaFJ1bGVbMF0pXQ0KICAgICAgICAgIHRoaXMuZGF0ZUFyclszXSA9IFsxXQ0KICAgICAgICAgIGlmICh0aGlzLmRheVJ1bGVTdXBbMV0gPT0gNykgew0KICAgICAgICAgICAgdGhpcy5kYXlSdWxlU3VwWzFdID0gMA0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIGlmIChydWxlLmluZGV4T2YoJ0wnKSA+PSAwKSB7DQogICAgICAgICAgdGhpcy5kYXlSdWxlID0gJ2xhc3RXZWVrJw0KICAgICAgICAgIHRoaXMuZGF5UnVsZVN1cCA9IE51bWJlcihydWxlLm1hdGNoKC9bMC05XXsxLDJ9L2cpWzBdKQ0KICAgICAgICAgIHRoaXMuZGF0ZUFyclszXSA9IFszMV0NCiAgICAgICAgICBpZiAodGhpcy5kYXlSdWxlU3VwID09IDcpIHsNCiAgICAgICAgICAgIHRoaXMuZGF5UnVsZVN1cCA9IDANCiAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSBpZiAocnVsZSAhPT0gJyonICYmIHJ1bGUgIT09ICc/Jykgew0KICAgICAgICAgIHRoaXMuZGF5UnVsZSA9ICd3ZWVrRGF5Jw0KICAgICAgICAgIHRoaXMuZGF5UnVsZVN1cCA9IHRoaXMuZ2V0QXNzaWduQXJyKHJ1bGUpDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOiOt+WPliLml6Ui5pWw57uELeWwkemHj+S4uuaXpeacn+inhOWImQ0KICAgIGdldERheUFycihydWxlKSB7DQogICAgICB0aGlzLmRhdGVBcnJbM10gPSB0aGlzLmdldE9yZGVyQXJyKDEsIDMxKQ0KICAgICAgdGhpcy5kYXlSdWxlID0gJycNCiAgICAgIHRoaXMuZGF5UnVsZVN1cCA9ICcnDQogICAgICBpZiAocnVsZS5pbmRleE9mKCctJykgPj0gMCkgew0KICAgICAgICB0aGlzLmRhdGVBcnJbM10gPSB0aGlzLmdldEN5Y2xlQXJyKHJ1bGUsIDMxLCBmYWxzZSkNCiAgICAgICAgdGhpcy5kYXlSdWxlU3VwID0gJ251bGwnDQogICAgICB9IGVsc2UgaWYgKHJ1bGUuaW5kZXhPZignLycpID49IDApIHsNCiAgICAgICAgdGhpcy5kYXRlQXJyWzNdID0gdGhpcy5nZXRBdmVyYWdlQXJyKHJ1bGUsIDMxKQ0KICAgICAgICB0aGlzLmRheVJ1bGVTdXAgPSAnbnVsbCcNCiAgICAgIH0gZWxzZSBpZiAocnVsZS5pbmRleE9mKCdXJykgPj0gMCkgew0KICAgICAgICB0aGlzLmRheVJ1bGUgPSAnd29ya0RheScNCiAgICAgICAgdGhpcy5kYXlSdWxlU3VwID0gTnVtYmVyKHJ1bGUubWF0Y2goL1swLTldezEsMn0vZylbMF0pDQogICAgICAgIHRoaXMuZGF0ZUFyclszXSA9IFt0aGlzLmRheVJ1bGVTdXBdDQogICAgICB9IGVsc2UgaWYgKHJ1bGUuaW5kZXhPZignTCcpID49IDApIHsNCiAgICAgICAgdGhpcy5kYXlSdWxlID0gJ2xhc3REYXknDQogICAgICAgIHRoaXMuZGF5UnVsZVN1cCA9ICdudWxsJw0KICAgICAgICB0aGlzLmRhdGVBcnJbM10gPSBbMzFdDQogICAgICB9IGVsc2UgaWYgKHJ1bGUgIT09ICcqJyAmJiBydWxlICE9PSAnPycpIHsNCiAgICAgICAgdGhpcy5kYXRlQXJyWzNdID0gdGhpcy5nZXRBc3NpZ25BcnIocnVsZSkNCiAgICAgICAgdGhpcy5kYXlSdWxlU3VwID0gJ251bGwnDQogICAgICB9IGVsc2UgaWYgKHJ1bGUgPT0gJyonKSB7DQogICAgICAgIHRoaXMuZGF5UnVsZVN1cCA9ICdudWxsJw0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g6I635Y+WIuaXtiLmlbDnu4QNCiAgICBnZXRIb3VyQXJyKHJ1bGUpIHsNCiAgICAgIHRoaXMuZGF0ZUFyclsyXSA9IHRoaXMuZ2V0T3JkZXJBcnIoMCwgMjMpDQogICAgICBpZiAocnVsZS5pbmRleE9mKCctJykgPj0gMCkgew0KICAgICAgICB0aGlzLmRhdGVBcnJbMl0gPSB0aGlzLmdldEN5Y2xlQXJyKHJ1bGUsIDI0LCB0cnVlKQ0KICAgICAgfSBlbHNlIGlmIChydWxlLmluZGV4T2YoJy8nKSA+PSAwKSB7DQogICAgICAgIHRoaXMuZGF0ZUFyclsyXSA9IHRoaXMuZ2V0QXZlcmFnZUFycihydWxlLCAyMykNCiAgICAgIH0gZWxzZSBpZiAocnVsZSAhPT0gJyonKSB7DQogICAgICAgIHRoaXMuZGF0ZUFyclsyXSA9IHRoaXMuZ2V0QXNzaWduQXJyKHJ1bGUpDQogICAgICB9DQogICAgfSwNCiAgICAvLyDojrflj5Yi5YiGIuaVsOe7hA0KICAgIGdldE1pbkFycihydWxlKSB7DQogICAgICB0aGlzLmRhdGVBcnJbMV0gPSB0aGlzLmdldE9yZGVyQXJyKDAsIDU5KQ0KICAgICAgaWYgKHJ1bGUuaW5kZXhPZignLScpID49IDApIHsNCiAgICAgICAgdGhpcy5kYXRlQXJyWzFdID0gdGhpcy5nZXRDeWNsZUFycihydWxlLCA2MCwgdHJ1ZSkNCiAgICAgIH0gZWxzZSBpZiAocnVsZS5pbmRleE9mKCcvJykgPj0gMCkgew0KICAgICAgICB0aGlzLmRhdGVBcnJbMV0gPSB0aGlzLmdldEF2ZXJhZ2VBcnIocnVsZSwgNTkpDQogICAgICB9IGVsc2UgaWYgKHJ1bGUgIT09ICcqJykgew0KICAgICAgICB0aGlzLmRhdGVBcnJbMV0gPSB0aGlzLmdldEFzc2lnbkFycihydWxlKQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g6I635Y+WIuenkiLmlbDnu4QNCiAgICBnZXRTZWNvbmRBcnIocnVsZSkgew0KICAgICAgdGhpcy5kYXRlQXJyWzBdID0gdGhpcy5nZXRPcmRlckFycigwLCA1OSkNCiAgICAgIGlmIChydWxlLmluZGV4T2YoJy0nKSA+PSAwKSB7DQogICAgICAgIHRoaXMuZGF0ZUFyclswXSA9IHRoaXMuZ2V0Q3ljbGVBcnIocnVsZSwgNjAsIHRydWUpDQogICAgICB9IGVsc2UgaWYgKHJ1bGUuaW5kZXhPZignLycpID49IDApIHsNCiAgICAgICAgdGhpcy5kYXRlQXJyWzBdID0gdGhpcy5nZXRBdmVyYWdlQXJyKHJ1bGUsIDU5KQ0KICAgICAgfSBlbHNlIGlmIChydWxlICE9PSAnKicpIHsNCiAgICAgICAgdGhpcy5kYXRlQXJyWzBdID0gdGhpcy5nZXRBc3NpZ25BcnIocnVsZSkNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOagueaNruS8oOi/m+adpeeahG1pbi1tYXjov5Tlm57kuIDkuKrpobrluo/nmoTmlbDnu4QNCiAgICBnZXRPcmRlckFycihtaW4sIG1heCkgew0KICAgICAgY29uc3QgYXJyID0gW10NCiAgICAgIGZvciAobGV0IGkgPSBtaW47IGkgPD0gbWF4OyBpKyspIHsNCiAgICAgICAgYXJyLnB1c2goaSkNCiAgICAgIH0NCiAgICAgIHJldHVybiBhcnINCiAgICB9LA0KICAgIC8vIOagueaNruinhOWImeS4reaMh+WumueahOmbtuaVo+WAvOi/lOWbnuS4gOS4quaVsOe7hA0KICAgIGdldEFzc2lnbkFycihydWxlKSB7DQogICAgICBjb25zdCBhcnIgPSBbXQ0KICAgICAgY29uc3QgYXNzaWdpbkFyciA9IHJ1bGUuc3BsaXQoJywnKQ0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhc3NpZ2luQXJyLmxlbmd0aDsgaSsrKSB7DQogICAgICAgIGFycltpXSA9IE51bWJlcihhc3NpZ2luQXJyW2ldKQ0KICAgICAgfQ0KICAgICAgYXJyLnNvcnQodGhpcy5jb21wYXJlKQ0KICAgICAgcmV0dXJuIGFycg0KICAgIH0sDQogICAgLy8g5qC55o2u5LiA5a6a566X5pyv6KeE5YiZ6K6h566X6L+U5Zue5LiA5Liq5pWw57uEDQogICAgZ2V0QXZlcmFnZUFycihydWxlLCBsaW1pdCkgew0KICAgICAgY29uc3QgYXJyID0gW10NCiAgICAgIGNvbnN0IGFnQXJyID0gcnVsZS5zcGxpdCgnLycpDQogICAgICBsZXQgbWluID0gTnVtYmVyKGFnQXJyWzBdKQ0KICAgICAgY29uc3Qgc3RlcCA9IE51bWJlcihhZ0FyclsxXSkNCiAgICAgIHdoaWxlIChtaW4gPD0gbGltaXQpIHsNCiAgICAgICAgYXJyLnB1c2gobWluKQ0KICAgICAgICBtaW4gKz0gc3RlcA0KICAgICAgfQ0KICAgICAgcmV0dXJuIGFycg0KICAgIH0sDQogICAgLy8g5qC55o2u6KeE5YiZ6L+U5Zue5LiA5Liq5YW35pyJ5ZGo5pyf5oCn55qE5pWw57uEDQogICAgZ2V0Q3ljbGVBcnIocnVsZSwgbGltaXQsIHN0YXR1cykgew0KICAgICAgLy8gc3RhdHVzLS3ooajnpLrmmK/lkKbku44w5byA5aeL77yI5YiZ5LuOMeW8gOWni++8iQ0KICAgICAgY29uc3QgYXJyID0gW10NCiAgICAgIGNvbnN0IGN5Y2xlQXJyID0gcnVsZS5zcGxpdCgnLScpDQogICAgICBjb25zdCBtaW4gPSBOdW1iZXIoY3ljbGVBcnJbMF0pDQogICAgICBsZXQgbWF4ID0gTnVtYmVyKGN5Y2xlQXJyWzFdKQ0KICAgICAgaWYgKG1pbiA+IG1heCkgew0KICAgICAgICBtYXggKz0gbGltaXQNCiAgICAgIH0NCiAgICAgIGZvciAobGV0IGkgPSBtaW47IGkgPD0gbWF4OyBpKyspIHsNCiAgICAgICAgbGV0IGFkZCA9IDANCiAgICAgICAgaWYgKHN0YXR1cyA9PSBmYWxzZSAmJiBpICUgbGltaXQgPT0gMCkgew0KICAgICAgICAgIGFkZCA9IGxpbWl0DQogICAgICAgIH0NCiAgICAgICAgYXJyLnB1c2goTWF0aC5yb3VuZChpICUgbGltaXQgKyBhZGQpKQ0KICAgICAgfQ0KICAgICAgYXJyLnNvcnQodGhpcy5jb21wYXJlKQ0KICAgICAgcmV0dXJuIGFycg0KICAgIH0sDQogICAgLy8g5q+U6L6D5pWw5a2X5aSn5bCP77yI55So5LqOQXJyYXkuc29ydO+8iQ0KICAgIGNvbXBhcmUodmFsdWUxLCB2YWx1ZTIpIHsNCiAgICAgIGlmICh2YWx1ZTIgLSB2YWx1ZTEgPiAwKSB7DQogICAgICAgIHJldHVybiAtMQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIDENCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOagvOW8j+WMluaXpeacn+agvOW8j+Wmgu+8mjIwMTctOS0xOSAxODowNDozMw0KICAgIGZvcm1hdERhdGUodmFsdWUsIHR5cGUpIHsNCiAgICAgIC8vIOiuoeeul+aXpeacn+ebuOWFs+WAvA0KICAgICAgY29uc3QgdGltZSA9IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgPyBuZXcgRGF0ZSh2YWx1ZSkgOiB2YWx1ZQ0KICAgICAgY29uc3QgWSA9IHRpbWUuZ2V0RnVsbFllYXIoKQ0KICAgICAgY29uc3QgTSA9IHRpbWUuZ2V0TW9udGgoKSArIDENCiAgICAgIGNvbnN0IEQgPSB0aW1lLmdldERhdGUoKQ0KICAgICAgY29uc3QgaCA9IHRpbWUuZ2V0SG91cnMoKQ0KICAgICAgY29uc3QgbSA9IHRpbWUuZ2V0TWludXRlcygpDQogICAgICBjb25zdCBzID0gdGltZS5nZXRTZWNvbmRzKCkNCiAgICAgIGNvbnN0IHdlZWsgPSB0aW1lLmdldERheSgpDQogICAgICAvLyDlpoLmnpzkvKDpgJLkuoZ0eXBl55qE6K+dDQogICAgICBpZiAodHlwZSA9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgcmV0dXJuIFkgKyAnLScgKyAoTSA8IDEwID8gJzAnICsgTSA6IE0pICsgJy0nICsgKEQgPCAxMCA/ICcwJyArIEQgOiBEKSArICcgJyArIChoIDwgMTAgPyAnMCcgKyBoIDogaCkgKyAnOicgKyAobSA8IDEwID8gJzAnICsgbSA6IG0pICsgJzonICsgKHMgPCAxMCA/ICcwJyArIHMgOiBzKQ0KICAgICAgfSBlbHNlIGlmICh0eXBlID09ICd3ZWVrJykgew0KICAgICAgICAvLyDlnKhxdWFydHrkuK0gMeS4uuaYn+acn+aXpQ0KICAgICAgICByZXR1cm4gd2VlayArIDENCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOajgOafpeaXpeacn+aYr+WQpuWtmOWcqA0KICAgIGNoZWNrRGF0ZSh2YWx1ZSkgew0KICAgICAgY29uc3QgdGltZSA9IG5ldyBEYXRlKHZhbHVlKQ0KICAgICAgY29uc3QgZm9ybWF0ID0gdGhpcy5mb3JtYXREYXRlKHRpbWUpDQogICAgICByZXR1cm4gdmFsdWUgPT09IGZvcm1hdA0KICAgIH0NCiAgfQ0KfQ0KDQo="},{"version":3,"sources":["result.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"result.vue","sourceRoot":"src/components/Crontab","sourcesContent":["<template>\r\n  <div class=\"popup-result\">\r\n    <p class=\"title\">最近5次运行时间</p>\r\n    <ul class=\"popup-result-scroll\">\r\n      <template v-if=\"isShow\">\r\n        <li v-for=\"item in resultList\" :key=\"item\">{{ item }}</li>\r\n      </template>\r\n      <li v-else>计算结果中...</li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'CrontabResult',\r\n  props: ['ex'],\r\n  data() {\r\n    return {\r\n      dayRule: '',\r\n      dayRuleSup: '',\r\n      dateArr: [],\r\n      resultList: [],\r\n      isShow: false\r\n    }\r\n  },\r\n  watch: {\r\n    'ex': 'expressionChange'\r\n  },\r\n  mounted: function() {\r\n    // 初始化 获取一次结果\r\n    this.expressionChange()\r\n  },\r\n  methods: {\r\n    // 表达式值变化时，开始去计算结果\r\n    expressionChange() {\r\n      // 计算开始-隐藏结果\r\n      this.isShow = false\r\n      // 获取规则数组[0秒、1分、2时、3日、4月、5星期、6年]\r\n      const ruleArr = this.$options.propsData.ex.split(' ')\r\n      // 用于记录进入循环的次数\r\n      let nums = 0\r\n      // 用于暂时存符号时间规则结果的数组\r\n      const resultArr = []\r\n      // 获取当前时间精确至[年、月、日、时、分、秒]\r\n      const nTime = new Date()\r\n      const nYear = nTime.getFullYear()\r\n      let nMonth = nTime.getMonth() + 1\r\n      let nDay = nTime.getDate()\r\n      let nHour = nTime.getHours()\r\n      let nMin = nTime.getMinutes()\r\n      let nSecond = nTime.getSeconds()\r\n      // 根据规则获取到近100年可能年数组、月数组等等\r\n      this.getSecondArr(ruleArr[0])\r\n      this.getMinArr(ruleArr[1])\r\n      this.getHourArr(ruleArr[2])\r\n      this.getDayArr(ruleArr[3])\r\n      this.getMonthArr(ruleArr[4])\r\n      this.getWeekArr(ruleArr[5])\r\n      this.getYearArr(ruleArr[6], nYear)\r\n      // 将获取到的数组赋值-方便使用\r\n      const sDate = this.dateArr[0]\r\n      const mDate = this.dateArr[1]\r\n      const hDate = this.dateArr[2]\r\n      const DDate = this.dateArr[3]\r\n      const MDate = this.dateArr[4]\r\n      const YDate = this.dateArr[5]\r\n      // 获取当前时间在数组中的索引\r\n      let sIdx = this.getIndex(sDate, nSecond)\r\n      let mIdx = this.getIndex(mDate, nMin)\r\n      let hIdx = this.getIndex(hDate, nHour)\r\n      let DIdx = this.getIndex(DDate, nDay)\r\n      let MIdx = this.getIndex(MDate, nMonth)\r\n      const YIdx = this.getIndex(YDate, nYear)\r\n      // 重置月日时分秒的函数(后面用的比较多)\r\n      const resetSecond = function() {\r\n        sIdx = 0\r\n        nSecond = sDate[sIdx]\r\n      }\r\n      const resetMin = function() {\r\n        mIdx = 0\r\n        nMin = mDate[mIdx]\r\n        resetSecond()\r\n      }\r\n      const resetHour = function() {\r\n        hIdx = 0\r\n        nHour = hDate[hIdx]\r\n        resetMin()\r\n      }\r\n      const resetDay = function() {\r\n        DIdx = 0\r\n        nDay = DDate[DIdx]\r\n        resetHour()\r\n      }\r\n      const resetMonth = function() {\r\n        MIdx = 0\r\n        nMonth = MDate[MIdx]\r\n        resetDay()\r\n      }\r\n      // 如果当前年份不为数组中当前值\r\n      if (nYear !== YDate[YIdx]) {\r\n        resetMonth()\r\n      }\r\n      // 如果当前月份不为数组中当前值\r\n      if (nMonth !== MDate[MIdx]) {\r\n        resetDay()\r\n      }\r\n      // 如果当前“日”不为数组中当前值\r\n      if (nDay !== DDate[DIdx]) {\r\n        resetHour()\r\n      }\r\n      // 如果当前“时”不为数组中当前值\r\n      if (nHour !== hDate[hIdx]) {\r\n        resetMin()\r\n      }\r\n      // 如果当前“分”不为数组中当前值\r\n      if (nMin !== mDate[mIdx]) {\r\n        resetSecond()\r\n      }\r\n\r\n      // 循环年份数组\r\n      goYear: for (let Yi = YIdx; Yi < YDate.length; Yi++) {\r\n        const YY = YDate[Yi]\r\n        // 如果到达最大值时\r\n        if (nMonth > MDate[MDate.length - 1]) {\r\n          resetMonth()\r\n          continue\r\n        }\r\n        // 循环月份数组\r\n        goMonth: for (let Mi = MIdx; Mi < MDate.length; Mi++) {\r\n          // 赋值、方便后面运算\r\n          let MM = MDate[Mi]\r\n          MM = MM < 10 ? '0' + MM : MM\r\n          // 如果到达最大值时\r\n          if (nDay > DDate[DDate.length - 1]) {\r\n            resetDay()\r\n            if (Mi == MDate.length - 1) {\r\n              resetMonth()\r\n              continue goYear\r\n            }\r\n            continue\r\n          }\r\n          // 循环日期数组\r\n          goDay: for (let Di = DIdx; Di < DDate.length; Di++) {\r\n            // 赋值、方便后面运算\r\n            let DD = DDate[Di]\r\n            let thisDD = DD < 10 ? '0' + DD : DD\r\n\r\n            // 如果到达最大值时\r\n            if (nHour > hDate[hDate.length - 1]) {\r\n              resetHour()\r\n              if (Di == DDate.length - 1) {\r\n                resetDay()\r\n                if (Mi == MDate.length - 1) {\r\n                  resetMonth()\r\n                  continue goYear\r\n                }\r\n                continue goMonth\r\n              }\r\n              continue\r\n            }\r\n\r\n            // 判断日期的合法性，不合法的话也是跳出当前循环\r\n            if (this.checkDate(YY + '-' + MM + '-' + thisDD + ' 00:00:00') !== true && this.dayRule !== 'workDay' && this.dayRule !== 'lastWeek' && this.dayRule !== 'lastDay') {\r\n              resetDay()\r\n              continue goMonth\r\n            }\r\n            // 如果日期规则中有值时\r\n            if (this.dayRule == 'lastDay') {\r\n              // 如果不是合法日期则需要将前将日期调到合法日期即月末最后一天\r\n\r\n              if (this.checkDate(YY + '-' + MM + '-' + thisDD + ' 00:00:00') !== true) {\r\n                while (DD > 0 && this.checkDate(YY + '-' + MM + '-' + thisDD + ' 00:00:00') !== true) {\r\n                  DD--\r\n\r\n                  thisDD = DD < 10 ? '0' + DD : DD\r\n                }\r\n              }\r\n            } else if (this.dayRule == 'workDay') {\r\n              // 校验并调整如果是2月30号这种日期传进来时需调整至正常月底\r\n              if (this.checkDate(YY + '-' + MM + '-' + thisDD + ' 00:00:00') !== true) {\r\n                while (DD > 0 && this.checkDate(YY + '-' + MM + '-' + thisDD + ' 00:00:00') !== true) {\r\n                  DD--\r\n                  thisDD = DD < 10 ? '0' + DD : DD\r\n                }\r\n              }\r\n              // 获取达到条件的日期是星期X\r\n              const thisWeek = this.formatDate(new Date(YY + '-' + MM + '-' + thisDD + ' 00:00:00'), 'week')\r\n              // 当星期日时\r\n              if (thisWeek == 1) {\r\n                // 先找下一个日，并判断是否为月底\r\n                DD++\r\n                thisDD = DD < 10 ? '0' + DD : DD\r\n                // 判断下一日已经不是合法日期\r\n                if (this.checkDate(YY + '-' + MM + '-' + thisDD + ' 00:00:00') !== true) {\r\n                  DD -= 3\r\n                }\r\n              } else if (thisWeek == 7) {\r\n                // 当星期6时只需判断不是1号就可进行操作\r\n                if (this.dayRuleSup !== 1) {\r\n                  DD--\r\n                } else {\r\n                  DD += 2\r\n                }\r\n              }\r\n            } else if (this.dayRule == 'weekDay') {\r\n              // 如果指定了是星期几\r\n              // 获取当前日期是属于星期几\r\n              const thisWeek = this.formatDate(new Date(YY + '-' + MM + '-' + DD + ' 00:00:00'), 'week')\r\n              // 校验当前星期是否在星期池（dayRuleSup）中\r\n              if (this.dayRuleSup.indexOf(thisWeek) < 0) {\r\n                // 如果到达最大值时\r\n                if (Di == DDate.length - 1) {\r\n                  resetDay()\r\n                  if (Mi == MDate.length - 1) {\r\n                    resetMonth()\r\n                    continue goYear\r\n                  }\r\n                  continue goMonth\r\n                }\r\n                continue\r\n              }\r\n            } else if (this.dayRule == 'assWeek') {\r\n              // 如果指定了是第几周的星期几\r\n              // 获取每月1号是属于星期几\r\n              const thisWeek = this.formatDate(new Date(YY + '-' + MM + '-' + DD + ' 00:00:00'), 'week')\r\n              if (this.dayRuleSup[1] >= thisWeek) {\r\n                DD = (this.dayRuleSup[0] - 1) * 7 + this.dayRuleSup[1] - thisWeek + 1\r\n              } else {\r\n                DD = this.dayRuleSup[0] * 7 + this.dayRuleSup[1] - thisWeek + 1\r\n              }\r\n            } else if (this.dayRule == 'lastWeek') {\r\n              // 如果指定了每月最后一个星期几\r\n              // 校验并调整如果是2月30号这种日期传进来时需调整至正常月底\r\n              if (this.checkDate(YY + '-' + MM + '-' + thisDD + ' 00:00:00') !== true) {\r\n                while (DD > 0 && this.checkDate(YY + '-' + MM + '-' + thisDD + ' 00:00:00') !== true) {\r\n                  DD--\r\n                  thisDD = DD < 10 ? '0' + DD : DD\r\n                }\r\n              }\r\n              // 获取月末最后一天是星期几\r\n              const thisWeek = this.formatDate(new Date(YY + '-' + MM + '-' + thisDD + ' 00:00:00'), 'week')\r\n              // 找到要求中最近的那个星期几\r\n              if (this.dayRuleSup < thisWeek) {\r\n                DD -= thisWeek - this.dayRuleSup\r\n              } else if (this.dayRuleSup > thisWeek) {\r\n                DD -= 7 - (this.dayRuleSup - thisWeek)\r\n              }\r\n            }\r\n            // 判断时间值是否小于10置换成“05”这种格式\r\n            DD = DD < 10 ? '0' + DD : DD\r\n\r\n            // 循环“时”数组\r\n            goHour: for (let hi = hIdx; hi < hDate.length; hi++) {\r\n              const hh = hDate[hi] < 10 ? '0' + hDate[hi] : hDate[hi]\r\n\r\n              // 如果到达最大值时\r\n              if (nMin > mDate[mDate.length - 1]) {\r\n                resetMin()\r\n                if (hi == hDate.length - 1) {\r\n                  resetHour()\r\n                  if (Di == DDate.length - 1) {\r\n                    resetDay()\r\n                    if (Mi == MDate.length - 1) {\r\n                      resetMonth()\r\n                      continue goYear\r\n                    }\r\n                    continue goMonth\r\n                  }\r\n                  continue goDay\r\n                }\r\n                continue\r\n              }\r\n              // 循环\"分\"数组\r\n              goMin: for (let mi = mIdx; mi < mDate.length; mi++) {\r\n                const mm = mDate[mi] < 10 ? '0' + mDate[mi] : mDate[mi]\r\n\r\n                // 如果到达最大值时\r\n                if (nSecond > sDate[sDate.length - 1]) {\r\n                  resetSecond()\r\n                  if (mi == mDate.length - 1) {\r\n                    resetMin()\r\n                    if (hi == hDate.length - 1) {\r\n                      resetHour()\r\n                      if (Di == DDate.length - 1) {\r\n                        resetDay()\r\n                        if (Mi == MDate.length - 1) {\r\n                          resetMonth()\r\n                          continue goYear\r\n                        }\r\n                        continue goMonth\r\n                      }\r\n                      continue goDay\r\n                    }\r\n                    continue goHour\r\n                  }\r\n                  continue\r\n                }\r\n                // 循环\"秒\"数组\r\n                for (let si = sIdx; si <= sDate.length - 1; si++) {\r\n                  const ss = sDate[si] < 10 ? '0' + sDate[si] : sDate[si]\r\n                  // 添加当前时间（时间合法性在日期循环时已经判断）\r\n                  if (MM !== '00' && DD !== '00') {\r\n                    resultArr.push(YY + '-' + MM + '-' + DD + ' ' + hh + ':' + mm + ':' + ss)\r\n                    nums++\r\n                  }\r\n                  // 如果条数满了就退出循环\r\n                  if (nums == 5) break goYear\r\n                  // 如果到达最大值时\r\n                  if (si == sDate.length - 1) {\r\n                    resetSecond()\r\n                    if (mi == mDate.length - 1) {\r\n                      resetMin()\r\n                      if (hi == hDate.length - 1) {\r\n                        resetHour()\r\n                        if (Di == DDate.length - 1) {\r\n                          resetDay()\r\n                          if (Mi == MDate.length - 1) {\r\n                            resetMonth()\r\n                            continue goYear\r\n                          }\r\n                          continue goMonth\r\n                        }\r\n                        continue goDay\r\n                      }\r\n                      continue goHour\r\n                    }\r\n                    continue goMin\r\n                  }\r\n                } // goSecond\r\n              } // goMin\r\n            }// goHour\r\n          }// goDay\r\n        }// goMonth\r\n      }\r\n      // 判断100年内的结果条数\r\n      if (resultArr.length == 0) {\r\n        this.resultList = ['没有达到条件的结果！']\r\n      } else {\r\n        this.resultList = resultArr\r\n        if (resultArr.length !== 5) {\r\n          this.resultList.push('最近100年内只有上面' + resultArr.length + '条结果！')\r\n        }\r\n      }\r\n      // 计算完成-显示结果\r\n      this.isShow = true\r\n    },\r\n    // 用于计算某位数字在数组中的索引\r\n    getIndex(arr, value) {\r\n      if (value <= arr[0] || value > arr[arr.length - 1]) {\r\n        return 0\r\n      } else {\r\n        for (let i = 0; i < arr.length - 1; i++) {\r\n          if (value > arr[i] && value <= arr[i + 1]) {\r\n            return i + 1\r\n          }\r\n        }\r\n      }\r\n    },\r\n    // 获取\"年\"数组\r\n    getYearArr(rule, year) {\r\n      this.dateArr[5] = this.getOrderArr(year, year + 100)\r\n      if (rule !== undefined) {\r\n        if (rule.indexOf('-') >= 0) {\r\n          this.dateArr[5] = this.getCycleArr(rule, year + 100, false)\r\n        } else if (rule.indexOf('/') >= 0) {\r\n          this.dateArr[5] = this.getAverageArr(rule, year + 100)\r\n        } else if (rule !== '*') {\r\n          this.dateArr[5] = this.getAssignArr(rule)\r\n        }\r\n      }\r\n    },\r\n    // 获取\"月\"数组\r\n    getMonthArr(rule) {\r\n      this.dateArr[4] = this.getOrderArr(1, 12)\r\n      if (rule.indexOf('-') >= 0) {\r\n        this.dateArr[4] = this.getCycleArr(rule, 12, false)\r\n      } else if (rule.indexOf('/') >= 0) {\r\n        this.dateArr[4] = this.getAverageArr(rule, 12)\r\n      } else if (rule !== '*') {\r\n        this.dateArr[4] = this.getAssignArr(rule)\r\n      }\r\n    },\r\n    // 获取\"日\"数组-主要为日期规则\r\n    getWeekArr(rule) {\r\n      // 只有当日期规则的两个值均为“”时则表达日期是有选项的\r\n      if (this.dayRule == '' && this.dayRuleSup == '') {\r\n        if (rule.indexOf('-') >= 0) {\r\n          this.dayRule = 'weekDay'\r\n          this.dayRuleSup = this.getCycleArr(rule, 7, false)\r\n        } else if (rule.indexOf('#') >= 0) {\r\n          this.dayRule = 'assWeek'\r\n          const matchRule = rule.match(/[0-9]{1}/g)\r\n          this.dayRuleSup = [Number(matchRule[1]), Number(matchRule[0])]\r\n          this.dateArr[3] = [1]\r\n          if (this.dayRuleSup[1] == 7) {\r\n            this.dayRuleSup[1] = 0\r\n          }\r\n        } else if (rule.indexOf('L') >= 0) {\r\n          this.dayRule = 'lastWeek'\r\n          this.dayRuleSup = Number(rule.match(/[0-9]{1,2}/g)[0])\r\n          this.dateArr[3] = [31]\r\n          if (this.dayRuleSup == 7) {\r\n            this.dayRuleSup = 0\r\n          }\r\n        } else if (rule !== '*' && rule !== '?') {\r\n          this.dayRule = 'weekDay'\r\n          this.dayRuleSup = this.getAssignArr(rule)\r\n        }\r\n      }\r\n    },\r\n    // 获取\"日\"数组-少量为日期规则\r\n    getDayArr(rule) {\r\n      this.dateArr[3] = this.getOrderArr(1, 31)\r\n      this.dayRule = ''\r\n      this.dayRuleSup = ''\r\n      if (rule.indexOf('-') >= 0) {\r\n        this.dateArr[3] = this.getCycleArr(rule, 31, false)\r\n        this.dayRuleSup = 'null'\r\n      } else if (rule.indexOf('/') >= 0) {\r\n        this.dateArr[3] = this.getAverageArr(rule, 31)\r\n        this.dayRuleSup = 'null'\r\n      } else if (rule.indexOf('W') >= 0) {\r\n        this.dayRule = 'workDay'\r\n        this.dayRuleSup = Number(rule.match(/[0-9]{1,2}/g)[0])\r\n        this.dateArr[3] = [this.dayRuleSup]\r\n      } else if (rule.indexOf('L') >= 0) {\r\n        this.dayRule = 'lastDay'\r\n        this.dayRuleSup = 'null'\r\n        this.dateArr[3] = [31]\r\n      } else if (rule !== '*' && rule !== '?') {\r\n        this.dateArr[3] = this.getAssignArr(rule)\r\n        this.dayRuleSup = 'null'\r\n      } else if (rule == '*') {\r\n        this.dayRuleSup = 'null'\r\n      }\r\n    },\r\n    // 获取\"时\"数组\r\n    getHourArr(rule) {\r\n      this.dateArr[2] = this.getOrderArr(0, 23)\r\n      if (rule.indexOf('-') >= 0) {\r\n        this.dateArr[2] = this.getCycleArr(rule, 24, true)\r\n      } else if (rule.indexOf('/') >= 0) {\r\n        this.dateArr[2] = this.getAverageArr(rule, 23)\r\n      } else if (rule !== '*') {\r\n        this.dateArr[2] = this.getAssignArr(rule)\r\n      }\r\n    },\r\n    // 获取\"分\"数组\r\n    getMinArr(rule) {\r\n      this.dateArr[1] = this.getOrderArr(0, 59)\r\n      if (rule.indexOf('-') >= 0) {\r\n        this.dateArr[1] = this.getCycleArr(rule, 60, true)\r\n      } else if (rule.indexOf('/') >= 0) {\r\n        this.dateArr[1] = this.getAverageArr(rule, 59)\r\n      } else if (rule !== '*') {\r\n        this.dateArr[1] = this.getAssignArr(rule)\r\n      }\r\n    },\r\n    // 获取\"秒\"数组\r\n    getSecondArr(rule) {\r\n      this.dateArr[0] = this.getOrderArr(0, 59)\r\n      if (rule.indexOf('-') >= 0) {\r\n        this.dateArr[0] = this.getCycleArr(rule, 60, true)\r\n      } else if (rule.indexOf('/') >= 0) {\r\n        this.dateArr[0] = this.getAverageArr(rule, 59)\r\n      } else if (rule !== '*') {\r\n        this.dateArr[0] = this.getAssignArr(rule)\r\n      }\r\n    },\r\n    // 根据传进来的min-max返回一个顺序的数组\r\n    getOrderArr(min, max) {\r\n      const arr = []\r\n      for (let i = min; i <= max; i++) {\r\n        arr.push(i)\r\n      }\r\n      return arr\r\n    },\r\n    // 根据规则中指定的零散值返回一个数组\r\n    getAssignArr(rule) {\r\n      const arr = []\r\n      const assiginArr = rule.split(',')\r\n      for (let i = 0; i < assiginArr.length; i++) {\r\n        arr[i] = Number(assiginArr[i])\r\n      }\r\n      arr.sort(this.compare)\r\n      return arr\r\n    },\r\n    // 根据一定算术规则计算返回一个数组\r\n    getAverageArr(rule, limit) {\r\n      const arr = []\r\n      const agArr = rule.split('/')\r\n      let min = Number(agArr[0])\r\n      const step = Number(agArr[1])\r\n      while (min <= limit) {\r\n        arr.push(min)\r\n        min += step\r\n      }\r\n      return arr\r\n    },\r\n    // 根据规则返回一个具有周期性的数组\r\n    getCycleArr(rule, limit, status) {\r\n      // status--表示是否从0开始（则从1开始）\r\n      const arr = []\r\n      const cycleArr = rule.split('-')\r\n      const min = Number(cycleArr[0])\r\n      let max = Number(cycleArr[1])\r\n      if (min > max) {\r\n        max += limit\r\n      }\r\n      for (let i = min; i <= max; i++) {\r\n        let add = 0\r\n        if (status == false && i % limit == 0) {\r\n          add = limit\r\n        }\r\n        arr.push(Math.round(i % limit + add))\r\n      }\r\n      arr.sort(this.compare)\r\n      return arr\r\n    },\r\n    // 比较数字大小（用于Array.sort）\r\n    compare(value1, value2) {\r\n      if (value2 - value1 > 0) {\r\n        return -1\r\n      } else {\r\n        return 1\r\n      }\r\n    },\r\n    // 格式化日期格式如：2017-9-19 18:04:33\r\n    formatDate(value, type) {\r\n      // 计算日期相关值\r\n      const time = typeof value === 'number' ? new Date(value) : value\r\n      const Y = time.getFullYear()\r\n      const M = time.getMonth() + 1\r\n      const D = time.getDate()\r\n      const h = time.getHours()\r\n      const m = time.getMinutes()\r\n      const s = time.getSeconds()\r\n      const week = time.getDay()\r\n      // 如果传递了type的话\r\n      if (type == undefined) {\r\n        return Y + '-' + (M < 10 ? '0' + M : M) + '-' + (D < 10 ? '0' + D : D) + ' ' + (h < 10 ? '0' + h : h) + ':' + (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s)\r\n      } else if (type == 'week') {\r\n        // 在quartz中 1为星期日\r\n        return week + 1\r\n      }\r\n    },\r\n    // 检查日期是否存在\r\n    checkDate(value) {\r\n      const time = new Date(value)\r\n      const format = this.formatDate(time)\r\n      return value === format\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n"]}]}